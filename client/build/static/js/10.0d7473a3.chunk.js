(this["webpackJsonpmern.ecommerce.client"]=this["webpackJsonpmern.ecommerce.client"]||[]).push([[10],{2860:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(e){switch(e){case"pending":return"warning";case"completed":return"success";case"cancelled":return"error";default:return"info"}},i=function(e){switch(e){case"pending":return"warning";case"paid":return"success";case"cancelled":return"error";default:return"info"}}},3096:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return re})),n.d(t,"d",(function(){return ce}));var a=n(2888),i=n(199),r=n(618),l=n(2776),c=n(2742),d=n(2655),s=n(2749),o=n(2885),j=n(2886),u=n(2887),b=n(2756),h=n(2889),x=n(2661),v=n(6),p=n(101),O=n(124),m=n(394),g=n(307),f=n(126),y=n(306),w=n(2860),C=n(0),S=Object(v.a)(a.a)((function(e){var t=e.theme;return{"& td":{paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}})),I=180,k=function(e){var t=e.label,n=e.value,a=e.valueVariant;return Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",children:[Object(C.jsx)(r.a,{align:"left",variant:"body2",component:"span",sx:{color:"text.secondary",width:100},children:t}),Object(C.jsx)(r.a,{variant:a,sx:{flex:1,marginLeft:3},children:n})]})};function W(e){var t,n,v,W,T,z,M,L,_=e.order,A=e.isShowTitle,P=e.handleRePay,R=Object(p.d)().t;return Object(C.jsxs)(l.a,{sx:{pt:5,px:5,mb:5},children:[Object(C.jsxs)(c.a,{container:!0,children:[A&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(c.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(C.jsx)(r.a,{variant:"body2",component:"span",sx:{color:"text.secondary"},children:R("order.title")}),Object(C.jsx)(r.a,{variant:"h6",sx:{display:"inline-block",ml:2},children:"#".concat((null===_||void 0===_?void 0:_.numericId)||(null===_||void 0===_?void 0:_._id))})]}),Object(C.jsx)(c.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:Object(C.jsx)(i.a,{sx:{textAlign:{sm:"right"}},children:Object(C.jsx)(g.a,{color:Object(w.a)(null===_||void 0===_?void 0:_.status),sx:{textTransform:"uppercase",mb:1},children:R("order.status-".concat(null===_||void 0===_?void 0:_.status))})})})]}),Object(C.jsxs)(c.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(C.jsx)(r.a,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:"Kh\xe1ch h\xe0ng"}),Object(C.jsx)(k,{label:R("address.full-name"),value:(null===_||void 0===_||null===(t=_.address)||void 0===t?void 0:t.name)||(null===_||void 0===_||null===(n=_.customer)||void 0===n?void 0:n.name),valueVariant:"subtitle1"}),Object(C.jsx)(k,{label:R("address.phone"),value:(null===_||void 0===_||null===(v=_.address)||void 0===v?void 0:v.phone)||(null===_||void 0===_||null===(W=_.customer)||void 0===W?void 0:W.phone),valueVariant:"body2"}),(null===_||void 0===_?void 0:_.isReceiveAtStore)?Object(C.jsx)(r.a,{align:"left",variant:"body2",component:"span",sx:{color:"text.secondary"},children:R("cart.receive-at-store")}):Object(C.jsx)(k,{label:R("address.title"),value:"".concat(null===_||void 0===_||null===(T=_.address)||void 0===T?void 0:T.street,", ").concat(null===_||void 0===_||null===(z=_.address)||void 0===z?void 0:z.ward,", ").concat(null===_||void 0===_||null===(M=_.address)||void 0===M?void 0:M.district,", ").concat(null===_||void 0===_?void 0:_.address.province),valueVariant:"body2"})]}),Object(C.jsxs)(c.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(C.jsx)(r.a,{paragraph:!0,variant:"overline",sx:{color:"text.disabled",mr:2},children:"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng"}),Object(C.jsxs)(d.a,{spacing:1,children:[Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",children:[Object(C.jsx)(r.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:R("order.payment-method")}),Object(C.jsx)(r.a,{variant:"body2",component:"span",children:R("order.payment-method-".concat(null===_||void 0===_?void 0:_.paymentMethod))})]}),Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",children:[Object(C.jsx)(r.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:R("order.order-status")}),Object(C.jsx)(g.a,{color:Object(w.a)(null===_||void 0===_?void 0:_.status),sx:{textTransform:"uppercase"},children:R("order.status-".concat(null===_||void 0===_?void 0:_.status))})]}),Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",children:[Object(C.jsx)(r.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:R("order.payment-status")}),Object(C.jsx)(g.a,{color:Object(w.b)(null===_||void 0===_?void 0:_.paymentStatus),sx:{textTransform:"uppercase"},children:R("order.payment-status-".concat(null===_||void 0===_?void 0:_.paymentStatus))}),null!==P&&"pending"===(null===_||void 0===_?void 0:_.paymentStatus)&&["cash","cod","",void 0,null].indexOf(null===_||void 0===_?void 0:_.paymentMethod)<0&&Object(C.jsx)(s.a,{href:"#",onClick:P,sx:{ml:2},children:"Thanh to\xe1n ngay"})]})]})]})]}),Object(C.jsx)(f.a,{children:Object(C.jsx)(o.a,{sx:{minWidth:960},children:Object(C.jsxs)(j.a,{children:[Object(C.jsx)(u.a,{sx:{borderBottom:function(e){return"solid 1px ".concat(e.palette.divider)},"& th":{backgroundColor:"transparent"}},children:Object(C.jsxs)(a.a,{children:[Object(C.jsx)(b.a,{width:30,children:"#"}),Object(C.jsx)(b.a,{align:"left",children:R("products.title")}),Object(C.jsx)(b.a,{align:"center",children:R("products.quantity")}),Object(C.jsx)(b.a,{align:"right",children:R("cart.unit-price")}),Object(C.jsx)(b.a,{align:"right",children:R("cart.amount-price")})]})}),Object(C.jsxs)(h.a,{children:[null===_||void 0===_?void 0:_.items.map((function(e,t){return Object(C.jsxs)(a.a,{sx:{borderBottom:function(e){return"solid 1px ".concat(e.palette.divider)}},children:[Object(C.jsx)(b.a,{children:t+1}),Object(C.jsxs)(b.a,{align:"left",sx:{display:"flex",alignItems:"center"},children:[(null===e||void 0===e?void 0:e.thumbnail)?Object(C.jsx)(m.b,{alt:"product image",src:null===e||void 0===e?void 0:e.thumbnail,objectFit:"contain"}):Object(C.jsx)(O.e,{width:64,height:64,marginRight:2}),Object(C.jsxs)(i.a,{sx:{maxWidth:560},children:[Object(C.jsx)(s.a,{underline:"hover",variant:"subtitle2",target:"_blank",href:"/product/".concat(e.productId),children:e.productName}),e.variantName&&Object(C.jsx)(r.a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.variantName})]})]}),Object(C.jsx)(b.a,{align:"center",children:e.quantity}),Object(C.jsx)(b.a,{align:"right",children:Object(y.a)(e.pricePerUnit)}),Object(C.jsx)(b.a,{align:"right",children:Object(y.a)(e.pricePerUnit*e.quantity)})]},t)})),Object(C.jsxs)(S,{children:[Object(C.jsx)(b.a,{colSpan:3}),Object(C.jsxs)(b.a,{align:"right",children:[Object(C.jsx)(i.a,{sx:{mt:2}}),Object(C.jsx)(r.a,{variant:"body1",children:R("cart.order.sub-total")})]}),Object(C.jsxs)(b.a,{align:"right",width:I,children:[Object(C.jsx)(i.a,{sx:{mt:2}}),Object(C.jsx)(r.a,{variant:"body1",children:Object(y.a)(null===_||void 0===_?void 0:_.subTotal)})]})]}),Object(C.jsxs)(S,{children:[Object(C.jsx)(b.a,{colSpan:3}),Object(C.jsx)(b.a,{align:"right",children:Object(C.jsx)(r.a,{variant:"body1",children:R("cart.order.discount")})}),Object(C.jsx)(b.a,{align:"right",width:I,children:Object(C.jsx)(r.a,{sx:{color:"error.main"},children:Object(y.a)(-(null===_||void 0===_?void 0:_.discount))})})]}),!(null===_||void 0===_?void 0:_.isReceiveAtStore)&&Object(C.jsxs)(S,{children:[Object(C.jsx)(b.a,{colSpan:3}),Object(C.jsx)(b.a,{align:"right",children:Object(C.jsx)(r.a,{variant:"body1",children:R("cart.order.shipping-fee")})}),Object(C.jsx)(b.a,{align:"right",width:I,children:Object(C.jsx)(r.a,{variant:"body1",children:Object(y.a)(null===_||void 0===_?void 0:_.shippingFee)})})]}),Object(C.jsxs)(S,{children:[Object(C.jsx)(b.a,{colSpan:3}),Object(C.jsx)(b.a,{align:"right",children:Object(C.jsx)(r.a,{variant:"h6",children:R("cart.order.total")})}),Object(C.jsx)(b.a,{align:"right",width:I,children:Object(C.jsx)(r.a,{variant:"h6",children:Object(y.a)(null===_||void 0===_?void 0:_.total)})})]})]})]})})}),Object(C.jsx)(x.a,{sx:{mt:5}}),Object(C.jsx)(c.a,{container:!0,children:Object(C.jsxs)(c.a,{item:!0,xs:12,md:9,sx:{py:3},children:[Object(C.jsx)(r.a,{variant:"subtitle2",children:R("address.note").toUpperCase()}),Object(C.jsx)(r.a,{variant:"body2",children:(null===_||void 0===_||null===(L=_.address)||void 0===L?void 0:L.note)||R("address.note-empty")})]})})]})}var T=n(3),z=n(16),M=n(305),L=n(2743),_=n(2727),A=n(2752),P=n(2955),R=n(2751),B=n(2956),q=n(2890),D=n(3117),F=n.n(D),K=n(1),U=n(47),V=n(170);function N(e){var t=e.order,n=e.open,a=e.setOpen,l=e.handleUpdate,d=e.actionReOrder,s=e.actionCancelOrder,o=Object(U.a)().t,j=Object(K.useState)(""),u=Object(z.a)(j,2),b=u[0],h=u[1],x=Object(K.useState)(""),v=Object(z.a)(x,2),p=v[0],O=v[1],m=Object(K.useState)(""),g=Object(z.a)(m,2),f=g[0],y=g[1],w=Object(K.useState)(!1),S=Object(z.a)(w,2),I=S[0],k=S[1],D=[{label:o("order.status-pending"),value:"pending"},{label:o("order.status-confirmed"),value:"confirmed"},{label:o("order.status-shipping"),value:"shipping"},{label:o("order.status-completed"),value:"completed"},{label:o("order.status-cancelled"),value:"cancelled"}],N=[{label:o("order.payment-status-pending"),value:"pending"},{label:o("order.payment-status-paid"),value:"paid"}],J=[{label:o("order.payment-method-cash"),value:"cash"},{label:o("order.payment-method-cod"),value:"cod"},{label:o("order.payment-method-vnpay"),value:"vnpay"}];Object(K.useEffect)((function(){h(null===t||void 0===t?void 0:t.status),O(null===t||void 0===t?void 0:t.paymentStatus),y(null===t||void 0===t?void 0:t.paymentMethod),k(!1)}),[t]);var E=function(e,n){h(n.value),n.value!==t.status&&k(!0)},H=function(e,n){O(n.value),n.value!==t.paymentStatus&&k(!0)},G=function(e,n){y(n.value),n.value!==t.paymentMethod&&k(!0)},Q=function(e,t){(!t||"backdropClick"!==t&&"escapeKeyDown"!==t)&&a(!1)},X=function(){l(t._id,{status:b,paymentStatus:p,paymentMethod:f}),a(!1)},Y=function(){d(t._id),a(!1)},Z=function(){s(t._id),a(!1)};return Object(C.jsxs)(A.a,{fullWidth:!0,maxWidth:"lg",open:n,onClose:Q,children:[Object(C.jsx)(P.a,{children:Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(C.jsxs)(r.a,{variant:"h4",marginBottom:2,sx:{textTransform:"uppercase",mb:0},children:["\u0110\u01a1n h\xe0ng #",null===t||void 0===t?void 0:t.numericId]}),Object(C.jsx)(R.a,{color:"inherit",edge:"start",onClick:Q,children:Object(C.jsx)(F.a,{})})]})}),Object(C.jsx)(B.a,{children:Object(C.jsx)(V.d,{variants:V.g,children:Object(C.jsx)(W,{order:t,isShowTitle:!1})})}),Object(C.jsx)(q.a,{children:Object(C.jsx)(i.a,{sx:{width:"100%"},children:l?Object(C.jsxs)(c.a,{container:!0,spacing:2,children:[Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsx)(L.a,{fullWidth:!0,disableClearable:!0,options:D,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},value:D.find((function(e){return e.value===b})),renderInput:function(e){return Object(C.jsx)(_.a,Object(T.a)(Object(T.a)({},e),{},{label:o("order.order-status")}))},onChange:E})}),Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsx)(L.a,{fullWidth:!0,disableClearable:!0,options:N,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},value:N.find((function(e){return e.value===p})),renderInput:function(e){return Object(C.jsx)(_.a,Object(T.a)(Object(T.a)({},e),{},{label:o("order.payment-status")}))},onChange:H})}),Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsx)(L.a,{fullWidth:!0,disableClearable:!0,options:J,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},value:J.find((function(e){return e.value===f})),renderInput:function(e){return Object(C.jsx)(_.a,Object(T.a)(Object(T.a)({},e),{},{label:o("order.payment-method")}))},onChange:G})}),Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",sx:{height:"100%"},children:[Object(C.jsx)(M.a,{sx:{mr:1},fullWidth:!0,size:"large",color:"inherit",variant:"outlined",onClick:Q,children:o("common.cancel")}),Object(C.jsx)(M.a,{fullWidth:!0,size:"large",variant:"outlined",disabled:!I,onClick:X,children:o("common.save")})]})})]}):Object(C.jsxs)(i.a,{display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{height:"100%"},children:[Object(C.jsx)(M.a,{sx:{mr:1},size:"large",color:"inherit",variant:"outlined",onClick:Y,disabled:!["pending","cancelled"].includes(null===t||void 0===t?void 0:t.status),children:"H\u1ee7y \u0111\u01a1n h\xe0ng"}),Object(C.jsx)(M.a,{size:"large",variant:"outlined",onClick:Z,disabled:"completed"!==(null===t||void 0===t?void 0:t.status),children:"\u0110\u1eb7t l\u1ea1i"})]})})})]})}var J=n(3118),E=n(3650);function H(e){var t=e.order,n=e.orderBy,r=(e.rowCount,e.headLabel),l=(e.numSelected,e.onRequestSort);e.onSelectAllClick;return Object(C.jsx)(u.a,{children:Object(C.jsx)(a.a,{children:r.map((function(e){return Object(C.jsx)(b.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t,children:Object(C.jsxs)(E.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,function(e){l(e,a)}),children:[e.label,n===e.id?Object(C.jsx)(i.a,{component:"span",sx:Object(T.a)({},J.a),children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))})})}var G=n(4),Q=n(26),X=n(200),Y=n.n(X),Z=n(393),$=n.n(Z),ee=(n(566),n(2782),n(2791),n(2824),n(2757)),te=n(2741),ne=n(2770),ae=Object(v.a)(ee.a)((function(e){var t=e.theme;return Object(G.a)({height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)},t.breakpoints.down("sm"),{height:192})})),ie=Object(v.a)(te.a)((function(e){var t=e.theme;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&::placeholder":{fontStyle:"italic"},"&.Mui-focused":{width:"100%",boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function re(e){var t=e.search,n=e.onSearchChange,a=e.onKeyDown,r=e.orderStatus,l=e.onChangeOrderStatus,d=e.paymentStatus,s=e.onChangePaymentStatus,o=Object(U.a)().t,j=[{label:o("order.status-all"),value:""},{label:o("order.status-pending"),value:"pending"},{label:o("order.status-confirmed"),value:"confirmed"},{label:o("order.status-shipping"),value:"shipping"},{label:o("order.status-completed"),value:"completed"},{label:o("order.status-cancelled"),value:"cancelled"}],u=[{label:o("order.payment-status-all"),value:""},{label:o("order.payment-status-pending"),value:"pending"},{label:o("order.payment-status-paid"),value:"paid"}];return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ae,{children:Object(C.jsx)(i.a,{sx:{width:"100%"},children:Object(C.jsxs)(c.a,{container:!0,spacing:2,children:[Object(C.jsx)(c.a,{item:!0,xs:12,sm:6,children:Object(C.jsx)(ie,{size:"small",value:t,onChange:n,onKeyDown:a,title:o("order.search-placeholder-desc"),placeholder:o("order.search-placeholder"),startAdornment:Object(C.jsx)(ne.a,{position:"start",children:Object(C.jsx)(i.a,{component:Q.Icon,icon:Y.a,sx:{color:"text.disabled"}})})})}),Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsx)(L.a,{size:"small",fullWidth:!0,disableClearable:!0,options:j,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},value:j.find((function(e){return e.value===r})),renderInput:function(e){return Object(C.jsx)(_.a,Object(T.a)(Object(T.a)({},e),{},{label:o("order.order-status")}))},onChange:l})}),Object(C.jsx)(c.a,{item:!0,xs:6,sm:3,children:Object(C.jsx)(L.a,{size:"small",fullWidth:!0,disableClearable:!0,options:u,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},value:u.find((function(e){return e.value===d})),renderInput:function(e){return Object(C.jsx)(_.a,Object(T.a)(Object(T.a)({},e),{},{label:o("order.payment-status")}))},onChange:s})})]})})})})}n(2796),n(2794),n(611),n(2762),n(2765),n(2766),n(2802);var le=n(2792);function ce(e){var t,n,i=e.row,l=e.onClick,c=Object(U.a)(),d=c.t,s=c.currentLang;return Object(C.jsxs)(a.a,{hover:!0,children:[Object(C.jsx)(b.a,{align:"left",scope:"row",padding:"none",children:null===i||void 0===i?void 0:i.numericId}),Object(C.jsx)(b.a,{scope:"row",padding:"none",children:Object(C.jsx)(r.a,{variant:"subtitle2",noWrap:!0,children:null===i||void 0===i||null===(t=i.customer)||void 0===t?void 0:t.name})}),Object(C.jsx)(b.a,{align:"left",padding:"none",children:null===i||void 0===i||null===(n=i.customer)||void 0===n?void 0:n.phone}),Object(C.jsx)(b.a,{align:"left",padding:"none",children:Object(C.jsx)(g.a,{color:Object(w.a)(null===i||void 0===i?void 0:i.status),sx:{textTransform:"uppercase"},children:d("order.status-".concat(null===i||void 0===i?void 0:i.status))})}),Object(C.jsx)(b.a,{align:"left",padding:"none",children:Object(C.jsx)(g.a,{color:Object(w.b)(null===i||void 0===i?void 0:i.paymentStatus),sx:{textTransform:"uppercase"},children:d("order.payment-status-".concat(null===i||void 0===i?void 0:i.paymentStatus))})}),Object(C.jsx)(b.a,{align:"left",padding:"none",children:d("order.payment-method-".concat(null===i||void 0===i?void 0:i.paymentMethod))}),Object(C.jsx)(b.a,{align:"right",children:Object(y.a)(null===i||void 0===i?void 0:i.total,s.value)}),Object(C.jsx)(b.a,{align:"right",children:Object(le.b)(null===i||void 0===i?void 0:i.createdAt,s.value)}),Object(C.jsx)(b.a,{align:"right",children:Object(C.jsx)(R.a,{onClick:function(){l(i)},children:Object(C.jsx)(Q.Icon,{icon:$.a})})})]})}},3117:function(e,t,n){"use strict";var a=n(621),i=n(620);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(1));var r=a(n(823)),l=n(0),c=(0,r.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c}}]);
//# sourceMappingURL=10.0d7473a3.chunk.js.map