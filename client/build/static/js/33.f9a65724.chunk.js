(this["webpackJsonpmern.ecommerce.client"]=this["webpackJsonpmern.ecommerce.client"]||[]).push([[33],{2787:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(3),i=r(24),n=r(169),o=r(2655),c=r(199),s=r(618),l=r(2749),d=r(29),j=r(0);function b(e){var t=e.links,r=e.action,b=e.heading,u=e.moreLink,p=void 0===u?[]:u,x=e.sx,h=Object(i.a)(e,["links","action","heading","moreLink","sx"]);return Object(j.jsxs)(o.a,{sx:x,mb:2,spacing:2,children:[Object(j.jsxs)(o.a,{direction:"row",alignItems:"center",children:[Object(j.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(j.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:b}),Object(j.jsx)(d.b,Object(a.a)({links:t},h))]}),r&&Object(j.jsx)(c.a,{sx:{flexShrink:0},children:r})]}),Object(n.isString)(p)?Object(j.jsx)(l.a,{href:p,target:"_blank",variant:"body2",children:p}):p.map((function(e){return Object(j.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"flex"},children:e},e)}))]})}},2801:function(e,t,r){"use strict";r.d(t,"b",(function(){return z})),r.d(t,"c",(function(){return J})),r.d(t,"a",(function(){return K}));var a=r(3),i=r(24),n=r(4),o=r(169),c=r(26),s=r(2786),l=r(311),d=r.n(l),j=r(142),b=r.n(j),u=r(2737),p=r(388),x=r(6),h=r(19),m=r(2753),O=r(199),g=r(618),v=r(2749),f=r(2761),y=r(385),w=r(2765),k=r(2766),C=r(3653),R=r(2655),S=r(305),q=r(306),A=r(29),P=r(170),I=r(124),U=r(0),D=Object(x.a)("div")((function(e){var t=e.theme;return Object(n.a)({outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));function z(e){var t=e.error,r=e.showPreview,n=void 0!==r&&r,l=e.files,j=e.onRemove,x=e.onRemoveAll,z=e.uploadAll,B=e.isShowUploadAll,F=void 0===B||B,T=e.sx,N=Object(i.a)(e,["error","showPreview","files","onRemove","onRemoveAll","uploadAll","isShowUploadAll","sx"]),W=l.length>0,V=Object(s.a)(Object(a.a)({},N)),E=V.getRootProps,L=V.getInputProps,J=V.isDragActive,_=V.isDragReject,G=V.fileRejections,M=function(){return Object(U.jsx)(m.a,{variant:"outlined",sx:{py:1,px:2,mt:3,borderColor:"error.light",bgcolor:function(e){return Object(h.a)(e.palette.error.main,.08)}},children:G.map((function(e){var t=e.file,r=e.errors,a=t.path,i=t.size;return Object(U.jsxs)(O.a,{sx:{my:1},children:[Object(U.jsxs)(g.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(q.b)(i)]}),r.map((function(e){return Object(U.jsxs)(g.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)}))]},a)}))})};return Object(U.jsxs)(O.a,{sx:Object(a.a)({width:"100%"},T),children:[Object(U.jsxs)(D,Object(a.a)(Object(a.a)({},E()),{},{sx:Object(a.a)(Object(a.a)({},J&&{opacity:.72}),(_||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[Object(U.jsx)("input",Object(a.a)({},L())),Object(U.jsx)(I.k,{sx:{width:220}}),Object(U.jsxs)(O.a,{sx:{p:3,ml:{md:2}},children:[Object(U.jsx)(g.a,{gutterBottom:!0,variant:"h5",children:"Drop or Select file"}),Object(U.jsxs)(g.a,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click\xa0",Object(U.jsx)(v.a,{underline:"always",children:"browse"}),"\xa0thorough your machine"]})]})]})),G.length>0&&Object(U.jsx)(M,{}),Object(U.jsx)(f.a,{disablePadding:!0,sx:Object(a.a)({},W&&{my:3}),children:Object(U.jsx)(u.a,{children:l.map((function(e){var t=e.name,r=e.size,i=e.preview,s=Object(o.isString)(e)?e:t;return n?Object(U.jsxs)(y.b,Object(a.a)(Object(a.a)({component:p.a.div},P.f),{},{sx:{p:0,m:.5,width:80,height:80,borderRadius:1.5,overflow:"hidden",position:"relative",display:"inline-flex"},children:[Object(U.jsx)(m.a,{variant:"outlined",component:"img",src:Object(o.isString)(e)?e:i,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute"}}),Object(U.jsx)(O.a,{sx:{top:6,right:6,position:"absolute"},children:Object(U.jsx)(A.g,{size:"small",onClick:function(){return j(e)},sx:{p:"2px",color:"common.white",bgcolor:function(e){return Object(h.a)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return Object(h.a)(e.palette.grey[900],.48)}}},children:Object(U.jsx)(c.Icon,{icon:b.a})})})]}),s):Object(U.jsxs)(y.b,Object(a.a)(Object(a.a)({component:p.a.div},P.f),{},{sx:{my:1,py:.75,px:2,borderRadius:1,border:function(e){return"solid 1px ".concat(e.palette.divider)},bgcolor:"background.paper"},children:[Object(U.jsx)(w.a,{children:Object(U.jsx)(c.Icon,{icon:d.a,width:28,height:28})}),Object(U.jsx)(k.a,{primary:Object(o.isString)(e)?e:t,secondary:Object(o.isString)(e)?"":Object(q.b)(r),primaryTypographyProps:{variant:"subtitle2"},secondaryTypographyProps:{variant:"caption"}}),Object(U.jsx)(C.a,{children:Object(U.jsx)(A.g,{edge:"end",size:"small",onClick:function(){return j(e)},children:Object(U.jsx)(c.Icon,{icon:b.a})})})]}),s)}))})}),W&&Object(U.jsxs)(R.a,{direction:"row",justifyContent:"flex-end",children:[Object(U.jsx)(S.a,{onClick:x,sx:{mr:1.5},children:"Remove all"}),F&&Object(U.jsx)(S.a,{variant:"contained",onClick:z,children:"Upload files"})]})]})}var B=r(16),F=r(1),T=r(2777),N=r(2755),W=r(2727),V=r(2775),E=r(47),L=Object(x.a)("div")((function(e){var t=e.theme;return Object(n.a)({outline:"none",display:"flex",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:t.palette.background.neutral,border:"1px dashed ".concat(t.palette.grey[50032]),"&:hover":{opacity:.72,cursor:"pointer"}},t.breakpoints.up("md"),{textAlign:"left",flexDirection:"row"})}));function J(e){var t=e.label,r=e.error,n=e.file,l=e.setFile,d=e.sx,j=e.uploadPercent,u=Object(i.a)(e,["label","error","file","setFile","sx","uploadPercent"]),p=Object(E.a)().t,x=Object(F.useState)(!1),h=Object(B.a)(x,2),m=h[0],v=h[1],f=Object(s.a)(Object(a.a)({multiple:!1},u)),y=f.getRootProps,w=f.getInputProps,k=f.isDragActive,C=f.isDragReject;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(O.a,{sx:Object(a.a)({width:"100%"},d),children:[Object(U.jsxs)(O.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[t&&Object(U.jsx)(A.h,{text:t}),Object(U.jsx)(T.a,{control:Object(U.jsx)(N.a,{value:m,onChange:function(e){e.preventDefault(),e.stopPropagation(),v(!m)}}),label:p("common.upload.from-url")})]}),m&&Object(U.jsx)(W.a,{autoFocus:!0,fullWidth:!0,type:"url",variant:"outlined",label:p("common.upload.image-url"),onChange:function(e){l(e.target.value)},value:n,sx:{marginTop:1,marginBottom:1}}),Object(U.jsxs)(L,Object(a.a)(Object(a.a)({},y()),{},{sx:Object(a.a)(Object(a.a)(Object(a.a)({},k&&{opacity:.72}),(C||r)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),n&&{padding:"12% 0"}),children:[Object(U.jsx)("input",Object(a.a)({},w())),Object(U.jsx)(I.k,{sx:Object(a.a)({width:220},n&&{opacity:0})}),Object(U.jsxs)(O.a,{sx:{p:3,ml:{md:2}},children:[Object(U.jsx)(g.a,{gutterBottom:!0,variant:"h5",children:p("common.upload.drop-or-select-file")}),Object(U.jsxs)(g.a,{variant:"body2",sx:{color:"text.secondary"},children:[p("common.upload.drop-files-here-or-click"),"\xa0",Object(U.jsx)(g.a,{variant:"body2",component:"span",sx:{color:"primary.main"},children:p("common.upload.browse")}),"\xa0",p("common.upload.thorough-your-machine")]})]}),n&&Object(U.jsx)(O.a,{component:"img",alt:"file preview",src:Object(o.isString)(n)?n:n.preview,sx:{top:8,borderRadius:1,objectFit:"contain",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)",bgcolor:"background.paper"}}),Object(U.jsx)(O.a,{component:"span",sx:{position:"absolute",top:8,right:8,display:"flex",flexDirection:"column"},children:n&&Object(U.jsx)(V.a,{title:p("common.delete"),arrow:!0,children:Object(U.jsx)(A.g,{color:"error",onClick:function(e){e.preventDefault(),e.stopPropagation(),l&&l(null)},children:Object(U.jsx)(c.Icon,{icon:b.a})})})})]})),j>0&&Object(U.jsx)(A.i,{sx:{marginTop:2},variant:"determinate",value:j})]})})}var _=r(2825),G=r.n(_),M=Object(x.a)("div")((function(e){var t=e.theme;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:"1px dashed ".concat(t.palette.grey[50032])}})),Z=Object(x.a)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),H=Object(x.a)("div")((function(e){var t=e.theme;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&:hover":{opacity:.72}}}));function K(e){var t=e.error,r=e.file,n=e.caption,l=e.sx,d=Object(i.a)(e,["error","file","caption","sx"]),j=Object(s.a)(Object(a.a)({multiple:!1},d)),b=j.getRootProps,u=j.getInputProps,p=j.isDragActive,x=j.isDragReject,v=j.fileRejections,f=function(){return Object(U.jsx)(m.a,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:function(e){return Object(h.a)(e.palette.error.main,.08)}},children:v.map((function(e){var t=e.file,r=e.errors,a=t.path,i=t.size;return Object(U.jsxs)(O.a,{sx:{my:1},children:[Object(U.jsxs)(g.a,{variant:"subtitle2",noWrap:!0,children:[a," - ",Object(q.b)(i)]}),r.map((function(e){return Object(U.jsxs)(g.a,{variant:"caption",component:"p",children:["- ",e.message]},e.code)}))]},a)}))})};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{sx:l,children:Object(U.jsxs)(Z,Object(a.a)(Object(a.a)({},b()),{},{sx:Object(a.a)(Object(a.a)({},p&&{opacity:.72}),(x||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}),children:[Object(U.jsx)("input",Object(a.a)({},u())),r&&Object(U.jsx)(O.a,{component:"img",alt:"avatar",src:Object(o.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),Object(U.jsxs)(H,{className:"placeholder",sx:Object(a.a)({},r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}),children:[Object(U.jsx)(O.a,{component:c.Icon,icon:G.a,sx:{width:24,height:24,mb:1}}),Object(U.jsx)(g.a,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]}))}),n,v.length>0&&Object(U.jsx)(f,{})]})}},3649:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return D}));var a=r(2772),i=r(36),n=r(389),o=r(2787),c=r(3),s=r(10),l=r.n(s),d=r(17),j=r(232),b=r(1),u=r(125),p=r(35),x=r(231),h=r(2720),m=r(2742),O=r(2776),g=r(199),v=r(618),f=r(2769),y=r(2777),w=r(2755),k=r(2655),C=r(2727),R=r(306);function S(e){return new Promise((function(t){return setTimeout(t,e)}))}var q=r(307),A=r(2801),P=r(59),I=r(0);function U(){var e=Object(p.h)(),t=Object(u.b)().enqueueSnackbar,r=Object(P.a)().user,a=j.f().shape({name:j.h().required("Name is required"),email:j.h().required("Email is required").email(),phoneNumber:j.h().required("Phone number is required"),address:j.h().required("Address is required"),country:j.h().required("country is required"),company:j.h().required("Company is required"),state:j.h().required("State is required"),city:j.h().required("City is required"),role:j.h().required("Role Number is required"),avatarUrl:j.d().required("Avatar is required")}),n=Object(x.d)({enableReinitialize:!0,initialValues:{name:(null===r||void 0===r?void 0:r.fullName)||"",email:(null===r||void 0===r?void 0:r.email)||"",phoneNumber:(null===r||void 0===r?void 0:r.phone)||"",address:(null===r||void 0===r?void 0:r.address)||"",state:(null===r||void 0===r?void 0:r.state)||"",city:(null===r||void 0===r?void 0:r.city)||"",zipCode:(null===r||void 0===r?void 0:r.zipCode)||"",avatarUrl:(null===r||void 0===r?void 0:r.avatarUrl)||null,isVerified:(null===r||void 0===r?void 0:r.isVerified)||!0,status:null===r||void 0===r?void 0:r.status,company:(null===r||void 0===r?void 0:r.company)||"",role:(null===r||void 0===r?void 0:r.role)||""},validationSchema:a,onSubmit:function(){var r=Object(d.a)(l.a.mark((function r(a,n){var o,c,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.setSubmitting,c=n.resetForm,s=n.setErrors,r.prev=1,r.next=4,S(500);case 4:c(),o(!1),t("Update success",{variant:"success"}),e(i.b.user.list),r.next=15;break;case 10:r.prev=10,r.t0=r.catch(1),console.error(r.t0),o(!1),s(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e,t){return r.apply(this,arguments)}}()}),o=n.errors,s=n.values,U=n.touched,D=n.handleSubmit,z=n.isSubmitting,B=n.setFieldValue,F=n.getFieldProps,T=Object(b.useCallback)((function(e){var t=e[0];t&&B("avatarUrl",Object(c.a)(Object(c.a)({},t),{},{preview:URL.createObjectURL(t)}))}),[B]);return Object(I.jsx)(x.b,{value:n,children:Object(I.jsx)(x.a,{noValidate:!0,autoComplete:"off",onSubmit:D,children:Object(I.jsxs)(m.a,{container:!0,spacing:3,children:[Object(I.jsx)(m.a,{item:!0,xs:12,md:4,children:Object(I.jsxs)(O.a,{sx:{py:10,px:3},children:[r&&Object(I.jsx)(q.a,{color:"active"!==s.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:s.status}),Object(I.jsxs)(g.a,{sx:{mb:5},children:[Object(I.jsx)(A.a,{accept:"image/*",file:s.avatarUrl,maxSize:3145728,onDrop:T,error:Boolean(U.avatarUrl&&o.avatarUrl),caption:Object(I.jsxs)(v.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(I.jsx)("br",{})," max size of ",Object(R.b)(3145728)]})}),Object(I.jsx)(f.a,{error:!0,sx:{px:2,textAlign:"center"},children:U.avatarUrl&&o.avatarUrl})]}),r&&Object(I.jsx)(y.a,{labelPlacement:"start",control:Object(I.jsx)(w.a,{onChange:function(e){return B("status",e.target.checked?"banned":"active")},checked:"active"!==s.status}),label:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),Object(I.jsx)(v.a,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),Object(I.jsx)(y.a,{labelPlacement:"start",control:Object(I.jsx)(w.a,Object(c.a)(Object(c.a)({},F("isVerified")),{},{checked:s.isVerified})),label:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),Object(I.jsx)(v.a,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),Object(I.jsx)(m.a,{item:!0,xs:12,md:8,children:Object(I.jsx)(O.a,{sx:{p:3},children:Object(I.jsxs)(k.a,{spacing:3,children:[Object(I.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Full Name"},F("name")),{},{error:Boolean(U.name&&o.name),helperText:U.name&&o.name})),Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Email Address"},F("email")),{},{error:Boolean(U.email&&o.email),helperText:U.email&&o.email}))]}),Object(I.jsx)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Phone Number"},F("phoneNumber")),{},{error:Boolean(U.phoneNumber&&o.phoneNumber),helperText:U.phoneNumber&&o.phoneNumber}))}),Object(I.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"State/Region"},F("state")),{},{error:Boolean(U.state&&o.state),helperText:U.state&&o.state})),Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"City"},F("city")),{},{error:Boolean(U.city&&o.city),helperText:U.city&&o.city}))]}),Object(I.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Address"},F("address")),{},{error:Boolean(U.address&&o.address),helperText:U.address&&o.address})),Object(I.jsx)(C.a,Object(c.a)({fullWidth:!0,label:"Zip/Code"},F("zipCode")))]}),Object(I.jsxs)(k.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Company"},F("company")),{},{error:Boolean(U.company&&o.company),helperText:U.company&&o.company})),Object(I.jsx)(C.a,Object(c.a)(Object(c.a)({fullWidth:!0,label:"Role"},F("role")),{},{error:Boolean(U.role&&o.role),helperText:U.role&&o.role}))]}),Object(I.jsx)(g.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(I.jsx)(h.a,{type:"submit",variant:"contained",loading:z,children:"Save Changes"})})]})})})]})})})}function D(){return Object(I.jsx)(n.a,{title:"User: Create a new user | Minimal-UI",children:Object(I.jsxs)(a.a,{children:[Object(I.jsx)(o.a,{heading:"Information",links:[{name:"Dashboard",href:i.b.general.statics},{name:"User",href:i.b.app}]}),Object(I.jsx)(U,{})]})})}}}]);
//# sourceMappingURL=33.f9a65724.chunk.js.map