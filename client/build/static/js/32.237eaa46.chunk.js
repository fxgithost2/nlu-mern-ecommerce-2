(this["webpackJsonpmern.ecommerce.client"]=this["webpackJsonpmern.ecommerce.client"]||[]).push([[32],{2860:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return n}));var l=function(e){switch(e){case"pending":return"warning";case"completed":return"success";case"cancelled":return"error";default:return"info"}},n=function(e){switch(e){case"pending":return"warning";case"paid":return"success";case"cancelled":return"error";default:return"info"}}},3321:function(e,t){},3322:function(e,t){},3645:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return K}));var l=i(10),n=i.n(l),c=i(17),r=i(16),s=i(1),a=i(6),o=i(2888),d=i(199),j=i(618),b=i(2772),x=i(2776),h=i(2742),u=i(2655),O=i(2749),v=i(2885),p=i(2886),y=i(2887),m=i(2756),g=i(2889),f=i(2661),w=i(35),T=i(47),V=i(389),C=i(307),_=i(235),S=i(126),R=i(124),B=i(3002),I=i(306),k=i(0);B.Font.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});var W=B.StyleSheet.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb8:{marginBottom:8},mb40:{marginBottom:40},overline:{fontSize:8,marginBottom:8,fontWeight:700,letterSpacing:1.2,textTransform:"uppercase"},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{padding:"40px 24px 0 24px",fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#fff",textTransform:"capitalize"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableHeader:{},tableBody:{},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}});function D(e){var t=e.invoice;if(!t)return null;var i=t._id,l=t.items,n=t.status,c=t.discount,r=t.invoiceTo,s=t.invoiceFrom,a=t.subTotal,o=t.total;return Object(k.jsx)(B.Document,{children:Object(k.jsxs)(B.Page,{size:"A4",style:W.page,children:[Object(k.jsxs)(B.View,{style:[W.gridContainer,W.mb40],children:[Object(k.jsx)(B.Image,{source:"/static/brand/logo_full.jpg",style:{height:32}}),Object(k.jsxs)(B.View,{style:{alignItems:"right",flexDirection:"column"},children:[Object(k.jsx)(B.Text,{style:W.h3,children:n}),Object(k.jsxs)(B.Text,{children:["INV-",i]})]})]}),Object(k.jsxs)(B.View,{style:[W.gridContainer,W.mb40],children:[Object(k.jsxs)(B.View,{style:W.col6,children:[Object(k.jsx)(B.Text,{style:[W.overline,W.mb8],children:"Invoice from"}),Object(k.jsx)(B.Text,{style:W.body1,children:null===s||void 0===s?void 0:s.name}),Object(k.jsx)(B.Text,{style:W.body1,children:null===s||void 0===s?void 0:s.address}),Object(k.jsx)(B.Text,{style:W.body1,children:null===s||void 0===s?void 0:s.phone})]}),Object(k.jsxs)(B.View,{style:W.col6,children:[Object(k.jsx)(B.Text,{style:[W.overline,W.mb8],children:"Invoice to"}),Object(k.jsx)(B.Text,{style:W.body1,children:null===r||void 0===r?void 0:r.name}),Object(k.jsx)(B.Text,{style:W.body1,children:null===r||void 0===r?void 0:r.address}),Object(k.jsx)(B.Text,{style:W.body1,children:null===r||void 0===r?void 0:r.phone})]})]}),Object(k.jsx)(B.Text,{style:[W.overline,W.mb8],children:"Invoice Details"}),Object(k.jsxs)(B.View,{style:W.table,children:[Object(k.jsx)(B.View,{style:W.tableHeader,children:Object(k.jsxs)(B.View,{style:W.tableRow,children:[Object(k.jsx)(B.View,{style:W.tableCell_1,children:Object(k.jsx)(B.Text,{style:W.subtitle2,children:"#"})}),Object(k.jsx)(B.View,{style:W.tableCell_2,children:Object(k.jsx)(B.Text,{style:W.subtitle2,children:"Description"})}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{style:W.subtitle2,children:"Qty"})}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{style:W.subtitle2,children:"Unit price"})}),Object(k.jsx)(B.View,{style:[W.tableCell_3,W.alignRight],children:Object(k.jsx)(B.Text,{style:W.subtitle2,children:"Total"})})]})}),Object(k.jsxs)(B.View,{style:W.tableBody,children:[l.map((function(e,t){return Object(k.jsxs)(B.View,{style:W.tableRow,children:[Object(k.jsx)(B.View,{style:W.tableCell_1,children:Object(k.jsx)(B.Text,{children:t+1})}),Object(k.jsxs)(B.View,{style:W.tableCell_2,children:[Object(k.jsx)(B.Text,{style:W.subtitle2,children:e.title}),Object(k.jsx)(B.Text,{children:e.description})]}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{children:e.qty})}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{children:e.price})}),Object(k.jsx)(B.View,{style:[W.tableCell_3,W.alignRight],children:Object(k.jsx)(B.Text,{children:Object(I.a)(e.price*e.qty)})})]},e.id)})),Object(k.jsxs)(B.View,{style:[W.tableRow,W.noBorder],children:[Object(k.jsx)(B.View,{style:W.tableCell_1}),Object(k.jsx)(B.View,{style:W.tableCell_2}),Object(k.jsx)(B.View,{style:W.tableCell_3}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{children:"Subtotal"})}),Object(k.jsx)(B.View,{style:[W.tableCell_3,W.alignRight],children:Object(k.jsx)(B.Text,{children:Object(I.a)(a)})})]}),Object(k.jsxs)(B.View,{style:[W.tableRow,W.noBorder],children:[Object(k.jsx)(B.View,{style:W.tableCell_1}),Object(k.jsx)(B.View,{style:W.tableCell_2}),Object(k.jsx)(B.View,{style:W.tableCell_3}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{children:"Discount"})}),Object(k.jsx)(B.View,{style:[W.tableCell_3,W.alignRight],children:Object(k.jsx)(B.Text,{children:Object(I.a)(-c)})})]}),Object(k.jsxs)(B.View,{style:[W.tableRow,W.noBorder],children:[Object(k.jsx)(B.View,{style:W.tableCell_1}),Object(k.jsx)(B.View,{style:W.tableCell_2}),Object(k.jsx)(B.View,{style:W.tableCell_3}),Object(k.jsx)(B.View,{style:W.tableCell_3,children:Object(k.jsx)(B.Text,{style:W.h4,children:"Total"})}),Object(k.jsx)(B.View,{style:[W.tableCell_3,W.alignRight],children:Object(k.jsx)(B.Text,{style:W.h4,children:Object(I.a)(o)})})]})]})]}),Object(k.jsxs)(B.View,{style:[W.gridContainer,W.footer],children:[Object(k.jsxs)(B.View,{style:W.col8,children:[Object(k.jsx)(B.Text,{style:W.subtitle2,children:"NOTES"}),Object(k.jsx)(B.Text,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),Object(k.jsxs)(B.View,{style:[W.col4,W.alignRight],children:[Object(k.jsx)(B.Text,{style:W.subtitle2,children:"Have a Question?"}),Object(k.jsx)(B.Text,{children:"support@abcapp.com"})]})]})]})})}var z=i(26),F=(i(393),i(142)),A=i.n(F),E=(i(3603),i(3604),i(2890)),q=i(2775),N=i(2751),H=(i(29),i(170));function P(e){var t=e.invoice,i=Object(s.useState)(!1),l=Object(r.a)(i,2),n=l[0],c=l[1];return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(H.b,{fullScreen:!0,open:n,children:Object(k.jsxs)(d.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(k.jsx)(E.a,{sx:{zIndex:9,padding:"12px !important",boxShadow:function(e){return e.customShadows.z8}},children:Object(k.jsx)(q.a,{title:"Close",children:Object(k.jsx)(N.a,{color:"inherit",onClick:function(){c(!1)},children:Object(k.jsx)(z.Icon,{icon:A.a})})})}),Object(k.jsx)(d.a,{sx:{flexGrow:1,height:"100%",overflow:"hidden"},children:Object(k.jsx)(B.PDFViewer,{width:"100%",height:"100%",style:{border:"none"},children:Object(k.jsx)(D,{invoice:t})})})]})})})}var U=i(25),J=i(2860),L=Object(a.a)(o.a)((function(e){var t=e.theme;return{"& td":{paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}})),M=Object(a.a)("img")((function(e){var t=e.theme;return{width:64,height:64,objectFit:"cover",marginRight:t.spacing(2),borderRadius:t.shape.borderRadiusSm}})),Q=180,G=function(e){var t=e.label,i=e.value,l=e.valueVariant;return Object(k.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(k.jsx)(j.a,{align:"left",variant:"body2",component:"span",sx:{color:"text.secondary",width:100},children:t}),Object(k.jsx)(j.a,{variant:l,sx:{flex:1,marginLeft:3},children:i})]})};function K(){var e,t,i,l,a,B,W,D,z=Object(T.a)().t,F=Object(w.i)().orderId,A=Object(s.useState)(null),E=Object(r.a)(A,2),q=E[0],N=E[1],H=Object(s.useState)(!1),K=Object(r.a)(H,2),X=K[0],Y=K[1],Z=function(){var e=Object(c.a)(n.a.mark((function e(){var t,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,U.L(F);case 3:t=e.sent,i=t.data,N(i.data),Y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){Z()}),[F]);var $=function(){var e=Object(c.a)(n.a.mark((function e(){var t,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.T(F);case 3:t=e.sent,(i=t.data).data&&(window.location.href=i.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return X?Object(k.jsx)(_.a,{}):Object(k.jsx)(V.a,{title:z("order.page-title"),id:"move_top",children:Object(k.jsxs)(b.a,{maxWidth:"lg",sx:{my:5},children:[Object(k.jsxs)(x.a,{sx:{pt:5,px:5,mb:5},children:[Object(k.jsxs)(h.a,{container:!0,children:[Object(k.jsxs)(h.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(k.jsx)(j.a,{variant:"body2",component:"span",sx:{color:"text.secondary"},children:z("order.title")}),Object(k.jsx)(j.a,{variant:"h6",sx:{display:"inline-block",ml:2},children:"#".concat((null===q||void 0===q?void 0:q.numericId)||(null===q||void 0===q?void 0:q._id))})]}),Object(k.jsx)(h.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:Object(k.jsx)(d.a,{sx:{textAlign:{sm:"right"}},children:Object(k.jsx)(C.a,{color:Object(J.a)(null===q||void 0===q?void 0:q.status),sx:{textTransform:"uppercase",mb:1},children:z("order.status-".concat(null===q||void 0===q?void 0:q.status))})})}),Object(k.jsxs)(h.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(k.jsx)(j.a,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:"Kh\xe1ch h\xe0ng"}),Object(k.jsx)(G,{label:z("address.full-name"),value:(null===q||void 0===q||null===(e=q.address)||void 0===e?void 0:e.name)||(null===q||void 0===q||null===(t=q.customer)||void 0===t?void 0:t.name),valueVariant:"subtitle1"}),Object(k.jsx)(G,{label:z("address.phone"),value:(null===q||void 0===q||null===(i=q.address)||void 0===i?void 0:i.phone)||(null===q||void 0===q||null===(l=q.customer)||void 0===l?void 0:l.phone),valueVariant:"body2"}),(null===q||void 0===q?void 0:q.isReceiveAtStore)?Object(k.jsx)(j.a,{align:"left",variant:"body2",component:"span",sx:{color:"text.secondary"},children:z("cart.receive-at-store")}):Object(k.jsx)(G,{label:z("address.title"),value:"".concat(null===q||void 0===q||null===(a=q.address)||void 0===a?void 0:a.street,", ").concat(null===q||void 0===q||null===(B=q.address)||void 0===B?void 0:B.ward,", ").concat(null===q||void 0===q||null===(W=q.address)||void 0===W?void 0:W.district,", ").concat(null===q||void 0===q?void 0:q.address.province),valueVariant:"body2"})]}),Object(k.jsxs)(h.a,{item:!0,xs:12,sm:6,sx:{mb:5},children:[Object(k.jsx)(j.a,{paragraph:!0,variant:"overline",sx:{color:"text.disabled",mr:2},children:"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng"}),Object(k.jsxs)(u.a,{spacing:1,children:[Object(k.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(k.jsx)(j.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:z("order.payment-method")}),Object(k.jsx)(j.a,{variant:"body2",component:"span",children:z("order.payment-method-".concat(null===q||void 0===q?void 0:q.paymentMethod))})]}),Object(k.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(k.jsx)(j.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:z("order.order-status")}),Object(k.jsx)(C.a,{color:Object(J.a)(null===q||void 0===q?void 0:q.status),sx:{textTransform:"uppercase"},children:z("order.status-".concat(null===q||void 0===q?void 0:q.status))})]}),Object(k.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(k.jsx)(j.a,{variant:"body2",component:"span",sx:{color:"text.secondary",mr:2,width:200},children:z("order.payment-status")}),Object(k.jsx)(C.a,{color:Object(J.b)(null===q||void 0===q?void 0:q.paymentStatus),sx:{textTransform:"uppercase"},children:z("order.payment-status-".concat(null===q||void 0===q?void 0:q.paymentStatus))}),"pending"===(null===q||void 0===q?void 0:q.paymentStatus)&&["cash","cod","",void 0,null].indexOf(null===q||void 0===q?void 0:q.paymentMethod)<0&&Object(k.jsx)(O.a,{href:"#",onClick:$,sx:{ml:2},children:"Thanh to\xe1n ngay"})]})]})]})]}),Object(k.jsx)(S.a,{children:Object(k.jsx)(v.a,{sx:{minWidth:960},children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(y.a,{sx:{borderBottom:function(e){return"solid 1px ".concat(e.palette.divider)},"& th":{backgroundColor:"transparent"}},children:Object(k.jsxs)(o.a,{children:[Object(k.jsx)(m.a,{width:30,children:"#"}),Object(k.jsx)(m.a,{align:"left",children:z("products.title")}),Object(k.jsx)(m.a,{align:"center",children:z("products.quantity")}),Object(k.jsx)(m.a,{align:"right",children:z("cart.unit-price")}),Object(k.jsx)(m.a,{align:"right",children:z("cart.amount-price")})]})}),Object(k.jsxs)(g.a,{children:[null===q||void 0===q?void 0:q.items.map((function(e,t){return Object(k.jsxs)(o.a,{sx:{borderBottom:function(e){return"solid 1px ".concat(e.palette.divider)}},children:[Object(k.jsx)(m.a,{children:t+1}),Object(k.jsxs)(m.a,{align:"left",sx:{display:"flex",alignItems:"center"},children:[(null===e||void 0===e?void 0:e.thumbnail)?Object(k.jsx)(M,{alt:"product image",src:null===e||void 0===e?void 0:e.thumbnail}):Object(k.jsx)(R.e,{width:64,height:64,marginRight:2}),Object(k.jsxs)(d.a,{sx:{maxWidth:560},children:[Object(k.jsx)(O.a,{underline:"hover",variant:"subtitle2",target:"_blank",href:"/product/".concat(e.productId),children:e.productName}),e.variantName&&Object(k.jsx)(j.a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.variantName})]})]}),Object(k.jsx)(m.a,{align:"center",children:e.quantity}),Object(k.jsx)(m.a,{align:"right",children:Object(I.a)(e.pricePerUnit)}),Object(k.jsx)(m.a,{align:"right",children:Object(I.a)(e.pricePerUnit*e.quantity)})]},t)})),Object(k.jsxs)(L,{children:[Object(k.jsx)(m.a,{colSpan:3}),Object(k.jsxs)(m.a,{align:"right",children:[Object(k.jsx)(d.a,{sx:{mt:2}}),Object(k.jsx)(j.a,{variant:"body1",children:z("cart.order.sub-total")})]}),Object(k.jsxs)(m.a,{align:"right",width:Q,children:[Object(k.jsx)(d.a,{sx:{mt:2}}),Object(k.jsx)(j.a,{variant:"body1",children:Object(I.a)(null===q||void 0===q?void 0:q.subTotal)})]})]}),Object(k.jsxs)(L,{children:[Object(k.jsx)(m.a,{colSpan:3}),Object(k.jsx)(m.a,{align:"right",children:Object(k.jsx)(j.a,{variant:"body1",children:z("cart.order.discount")})}),Object(k.jsx)(m.a,{align:"right",width:Q,children:Object(k.jsx)(j.a,{sx:{color:"error.main"},children:Object(I.a)(-(null===q||void 0===q?void 0:q.discount))})})]}),!(null===q||void 0===q?void 0:q.isReceiveAtStore)&&Object(k.jsxs)(L,{children:[Object(k.jsx)(m.a,{colSpan:3}),Object(k.jsx)(m.a,{align:"right",children:Object(k.jsx)(j.a,{variant:"body1",children:z("cart.order.shipping-fee")})}),Object(k.jsx)(m.a,{align:"right",width:Q,children:Object(k.jsx)(j.a,{variant:"body1",children:Object(I.a)(null===q||void 0===q?void 0:q.shippingFee)})})]}),Object(k.jsxs)(L,{children:[Object(k.jsx)(m.a,{colSpan:3}),Object(k.jsx)(m.a,{align:"right",children:Object(k.jsx)(j.a,{variant:"h6",children:z("cart.order.total")})}),Object(k.jsx)(m.a,{align:"right",width:Q,children:Object(k.jsx)(j.a,{variant:"h6",children:Object(I.a)(null===q||void 0===q?void 0:q.total)})})]})]})]})})}),Object(k.jsx)(f.a,{sx:{mt:5}}),Object(k.jsx)(h.a,{container:!0,children:Object(k.jsxs)(h.a,{item:!0,xs:12,md:9,sx:{py:3},children:[Object(k.jsx)(j.a,{variant:"subtitle2",children:z("address.note").toUpperCase()}),Object(k.jsx)(j.a,{variant:"body2",children:(null===q||void 0===q||null===(D=q.address)||void 0===D?void 0:D.note)||z("address.note-empty")})]})})]}),Object(k.jsx)(P,{invoice:q})]})})}}}]);
//# sourceMappingURL=32.237eaa46.chunk.js.map