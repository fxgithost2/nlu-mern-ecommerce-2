{"version":3,"sources":["helper/listHelper.js","components/dialog/DialogConfirm.jsx","components/dashboard/products/ProductMoreMenu.jsx","components/dashboard/products/ProductTableToolbar.jsx","components/dashboard/products/ProductVariantListHead.jsx","components/dashboard/products/ProductVariantMoreMenu.jsx","pages/dashboard/products/ProductFormEdit.jsx","pages/dashboard/products/ProductVariantForm.jsx","pages/dashboard/products/ProductVariant.jsx","pages/dashboard/products/PageProductEdit.jsx"],"names":["descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","map","el","index","sort","DialogConfirm","open","setOpen","handleSubmit","textContent","t","useLocales","handleClose","onClose","variant","marginBottom","sx","textTransform","onClick","color","ProductMoreMenu","productId","productName","isHide","onChangeHide","onDelete","ref","useRef","useState","isOpen","setIsOpen","openDialogConfirm","setOpenDialogConfirm","textConfirmDelete","setTextConfirmDelete","useEffect","text","nameInfo","IconButton","icon","moreVerticalFill","width","height","Menu","anchorEl","current","PaperProps","maxWidth","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","component","RouterLink","to","PATH_DASHBOARD","app","products","root","paramCase","ListItemIcon","editFill","ListItemText","primary","primaryTypographyProps","_e","eyeOutline","eyeOffOutline","trash2Outline","RootStyle","styled","Toolbar","display","justifyContent","padding","theme","spacing","SearchStyle","OutlinedInput","minWidth","transition","transitions","create","easing","easeInOut","duration","shorter","boxShadow","customShadows","z8","borderWidth","borderColor","palette","grey","ProductTableToolbar","searchPlaceHolder","numSelected","initialValue","onSearch","onCategoryChange","onBrandChange","onChangeShowHidden","isLight","useTheme","mode","useSelector","state","product","dashboard","lstCategories","categoryFilter","lstBrands","brandFilter","categoryOpts","setCategoryOpts","brandOpts","setBrandOpts","searchValue","setSearchValue","showHidden","setShowHidden","selectedCategory","setSelectedCategory","selectedBrand","setSelectedBrand","_id","name","slug","image","bgcolor","Typography","Box","Grid","container","item","xs","sm","value","onChange","event","target","onKeyPress","key","placeholder","size","startAdornment","InputAdornment","position","Icon","searchFill","alignItems","FormControlLabel","control","Switch","checked","label","Autocomplete","fullWidth","disableClearable","options","getOptionLabel","renderInput","params","TextField","Tooltip","title","eyeFill","trash2Fill","closeCircleFill","ProductVariantListHead","headLabel","TableHead","TableRow","headCell","TableCell","align","numeric","disablePadding","id","ProductVariantMoreMenu","onEdit","onMouseLeave","TAGS_OPTION","LabelStyle","typography","subtitle2","secondary","PageProductEdit","navigate","useNavigate","enqueueSnackbar","useSnackbar","dispatch","useDispatch","useParams","currentProduct","brandsList","brand","list","categoriesList","category","validationBrand","setValidationBrand","validationCategory","setValidationCategory","getAllBrands","getAllCategories","getProductById","handleSave","values","productData","handleAddDataForProduct","updateProduct","desc","description","warrantyPeriod","origin","brandId","categoryId","tags","video","NewProductSchema","Yup","shape","required","formik","useFormik","enableReinitialize","initialValues","validationSchema","onSubmit","errors","touched","setFieldValue","getFieldProps","noValidate","autoComplete","Stack","direction","gutterBottom","md","Card","p","error","Boolean","helperText","simple","val","FormHelperText","px","type","defaultValue","undefined","filter","x","option","find","c","e","newValue","margin","Link","brands","marginTop","marginLeft","fontSize","categories","multiple","freeSolo","renderTags","getTagProps","Chip","Button","ProductVariantForm","currentVariant","currentProductId","handleCreateDone","closeSnackbar","specifications","setSpecifications","isErrorSpecifications","setIsErrorSpecifications","uploadImage","setUploadImage","uploadPercent","setUploadPercent","validationThumbnail","setValidationThumbnail","urlsPictures","setUrlsPictures","addSpecifications","length","thumbnail","handleChangeInput","newSpecifications","i","handleDropSingleFile","useCallback","acceptedFiles","uploadFile","allowImageMineTypes","indexOf","action","closeFill","preview","URL","createObjectURL","validationCustomer","handleCheckSku","productVariantData","handleAddDataForProductVariant","updateProductVariant","sku","createProductVariant","firebaseUploadSingle","url","handleUploadMultiple","urlsPicturesNew","pictures","firebaseUploadMultiple","urls","push","variantName","quantity","price","marketPrice","handleDrop","file","Object","assign","variants","Dialog","DialogTitle","DialogContent","disabled","InputProps","inputField","splice","findIndex","handleRemoveFields","main","indexCurrent","setFile","onDrop","accepted","maxSize","showPreview","accept","files","onRemove","filteredItems","_file","onRemoveAll","uploadAll","DialogActions","ThumbImgStyle","objectFit","borderRadius","borderRadiusSm","ProductVariant","setCurrentVariant","openForm","setOpenForm","tableHeads","startIcon","plusFill","Scrollbar","TableContainer","Table","TableBody","Helper","row","sold","labelId","hover","tabIndex","scope","style","py","alt","src","marginRight","noWrap","stopPropagation","handleEditVariant","deleteProductVariant","handleDeleteVariant","Page","Container","HeaderBreadcrumbs","heading","links","href"],"mappings":"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","file":"static/js/31.cd54ebcc.chunk.js","sourcesContent":["export function descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nexport function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n","// material\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions, Typography } from '@material-ui/core';\n// hooks\nimport useLocales from '../../hooks/useLocales';\n\n// ----------------------------------------------------------------------\n\nexport default function DialogConfirm({ open, setOpen, handleSubmit, textContent }) {\n  const { t } = useLocales();\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogTitle>\n        <Typography variant=\"h4\" marginBottom={2} sx={{ textTransform: 'uppercase' }}>\n          {t('common.confirm-action-delete')}\n        </Typography>\n      </DialogTitle>\n      <DialogContent>\n        <Typography variant=\"h6\">{textContent}</Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"inherit\">\n          {t('common.cancel')}\n        </Button>\n        <Button onClick={handleSubmit} variant=\"contained\">\n          {t('common.save')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","// icon\nimport { Icon } from '@iconify/react';\nimport editFill from '@iconify/icons-eva/edit-fill';\nimport trash2Outline from '@iconify/icons-eva/trash-2-outline';\nimport moreVerticalFill from '@iconify/icons-eva/more-vertical-fill';\nimport eyeOutline from '@iconify/icons-eva/eye-outline';\nimport eyeOffOutline from '@iconify/icons-eva/eye-off-outline';\n//\nimport PropTypes from 'prop-types';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { paramCase } from 'change-case';\n// material\nimport { Menu, MenuItem, IconButton, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { useLocales } from '../../../hooks';\nimport { PATH_DASHBOARD } from '../../../routes/paths';\nimport DialogConfirm from '../../dialog/DialogConfirm';\n\n// ----------------------------------------------------------------------\n\nProductMoreMenu.propTypes = {\n  productId: PropTypes.string,\n  productName: PropTypes.string,\n  isHide: PropTypes.bool,\n  onChangeHide: PropTypes.func,\n  onDelete: PropTypes.func\n};\n\nexport default function ProductMoreMenu({ productId, productName, isHide, onChangeHide, onDelete }) {\n  const { t } = useLocales();\n  const ref = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [openDialogConfirm, setOpenDialogConfirm] = useState(false);\n  const [textConfirmDelete, setTextConfirmDelete] = useState('');\n\n  useEffect(() => {\n    const text = t('products.confirm-delete', { nameInfo: productName });\n    setTextConfirmDelete(text);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [productName]);\n\n  const handleChangeHide = (_e) => {\n    if (typeof onChangeHide === 'function') {\n      onChangeHide(productId);\n    }\n    setIsOpen(false);\n  };\n\n  const handleDelete = () => {\n    setOpenDialogConfirm(true);\n    setIsOpen(false);\n  };\n\n  const handleDeleteSuccess = () => {\n    onDelete();\n    setOpenDialogConfirm(false);\n  };\n\n  return (\n    <>\n      <IconButton ref={ref} onClick={() => setIsOpen(true)}>\n        <Icon icon={moreVerticalFill} width={20} height={20} />\n      </IconButton>\n      <Menu\n        open={isOpen}\n        anchorEl={ref.current}\n        onClose={() => setIsOpen(false)}\n        PaperProps={{ sx: { width: 200, maxWidth: '100%' } }}\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      >\n        <MenuItem\n          component={RouterLink}\n          to={`${PATH_DASHBOARD.app.products.root}/${paramCase(productId)}/edit`}\n          sx={{ color: 'text.secondary' }}\n        >\n          <ListItemIcon>\n            <Icon icon={editFill} width={24} height={24} />\n          </ListItemIcon>\n          <ListItemText primary={t('common.edit')} primaryTypographyProps={{ variant: 'body2' }} />\n        </MenuItem>\n\n        <MenuItem onClick={handleChangeHide} sx={{ color: 'text.secondary' }}>\n          <ListItemIcon>\n            <Icon icon={isHide ? eyeOutline : eyeOffOutline} width={24} height={24} />\n          </ListItemIcon>\n          <ListItemText primary={isHide ? 'Hiển thị' : 'Ẩn sản phầm'} primaryTypographyProps={{ variant: 'body2' }} />\n        </MenuItem>\n\n        <MenuItem onClick={handleDelete} sx={{ color: 'text.secondary' }}>\n          <ListItemIcon>\n            <Icon icon={trash2Outline} width={24} height={24} />\n          </ListItemIcon>\n          <ListItemText primary={t('common.delete')} primaryTypographyProps={{ variant: 'body2' }} />\n        </MenuItem>\n      </Menu>\n      <DialogConfirm\n        open={openDialogConfirm}\n        setOpen={setOpenDialogConfirm}\n        handleSubmit={handleDeleteSuccess}\n        textContent={textConfirmDelete}\n      />\n    </>\n  );\n}\n","// icon\nimport editFill from '@iconify/icons-eva/edit-fill';\nimport eyeFill from '@iconify/icons-eva/eye-fill';\nimport searchFill from '@iconify/icons-eva/search-fill';\nimport trash2Fill from '@iconify/icons-eva/trash-2-fill';\nimport closeCircleFill from '@iconify/icons-eva/close-circle-fill';\nimport { Icon } from '@iconify/react';\n// material\nimport {\n  Autocomplete,\n  Box,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  Switch,\n  TextField,\n  Toolbar,\n  Tooltip,\n  Typography\n} from '@material-ui/core';\nimport { experimentalStyled as styled, useTheme } from '@material-ui/core/styles';\n//\nimport PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport useLocales from '../../../hooks/useLocales';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled(Toolbar)(({ theme }) => ({\n  height: 64,\n  display: 'flex',\n  justifyContent: 'space-between',\n  padding: theme.spacing(0, 1, 0, 1)\n}));\n\nconst SearchStyle = styled(OutlinedInput)(({ theme }) => ({\n  minWidth: 240,\n  width: '50%',\n  transition: theme.transitions.create(['box-shadow', 'width'], {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.shorter\n  }),\n  '&.Mui-focused': { minWidth: 320, width: '100%', boxShadow: theme.customShadows.z8 },\n  '& fieldset': {\n    borderWidth: `1px !important`,\n    borderColor: `${theme.palette.grey[500_32]} !important`\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nProductTableToolbar.propTypes = {\n  searchPlaceHolder: PropTypes.string.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  initialValue: PropTypes.string,\n  onSearch: PropTypes.func,\n  onCategoryChange: PropTypes.func,\n  onBrandChange: PropTypes.func,\n  onChangeShowHidden: PropTypes.func\n};\n\nexport default function ProductTableToolbar({\n  searchPlaceHolder,\n  numSelected,\n  initialValue,\n  onSearch,\n  onCategoryChange,\n  onBrandChange,\n  onChangeShowHidden\n}) {\n  const theme = useTheme();\n  const isLight = theme.palette.mode === 'light';\n\n  const { categoryFilter: lstCategories, brandFilter: lstBrands } = useSelector((state) => state.product.dashboard);\n\n  const [categoryOpts, setCategoryOpts] = useState([]);\n  const [brandOpts, setBrandOpts] = useState([]);\n\n  const [searchValue, setSearchValue] = useState(initialValue);\n  const [showHidden, setShowHidden] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [selectedBrand, setSelectedBrand] = useState(null);\n  const { t } = useLocales();\n\n  useEffect(() => {\n    setCategoryOpts([{ _id: '', name: 'Tất cả', slug: '', image: '' }, ...lstCategories]);\n    setBrandOpts([{ _id: '', name: 'Tất cả', slug: '', image: '' }, ...lstBrands]);\n    if (!selectedCategory) {\n      setSelectedCategory({ _id: '', name: 'Tất cả', slug: '', image: '' });\n    }\n    if (!selectedBrand) {\n      setSelectedBrand({ _id: '', name: 'Tất cả', slug: '', image: '' });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lstCategories, lstBrands]);\n\n  useEffect(() => {\n    if (typeof onChangeShowHidden === 'function') {\n      onChangeShowHidden(showHidden);\n    }\n  }, [onChangeShowHidden, showHidden]);\n\n  useEffect(() => {\n    if (typeof onCategoryChange === 'function' && selectedCategory && '_id' in selectedCategory) {\n      onCategoryChange(selectedCategory._id);\n    }\n  }, [onCategoryChange, selectedCategory]);\n\n  useEffect(() => {\n    if (typeof onBrandChange === 'function' && selectedBrand && '_id' in selectedBrand) {\n      onBrandChange(selectedBrand._id);\n    }\n  }, [onBrandChange, selectedBrand]);\n\n  const handleOnChange = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const handleOnKeyPress = (event) => {\n    if (event.key === 'Enter' && typeof onSearch === 'function') {\n      onSearch(event, searchValue);\n    }\n  };\n\n  const handleChangeShowHidden = (event) => {\n    setShowHidden(event.target.checked);\n  };\n\n  const handleChangeCategoryFilter = (event, value) => {\n    if (value) {\n      setSelectedCategory(value);\n    }\n  };\n\n  const handleChangeBrandFilter = (event, value) => {\n    if (value) {\n      setSelectedBrand(value);\n    }\n  };\n\n  const handleClearFilter = (event) => {\n    setSelectedCategory(categoryOpts[0]);\n    setSelectedBrand(brandOpts[0]);\n    setSearchValue('');\n    if (typeof onSearch === 'function') {\n      onSearch(event, searchValue);\n    }\n  };\n\n  return (\n    <RootStyle\n      sx={{\n        ...(numSelected > 0 && {\n          color: isLight ? 'primary.main' : 'text.primary',\n          bgcolor: isLight ? 'primary.lighter' : 'primary.dark'\n        })\n      }}\n    >\n      {numSelected > 0 ? (\n        <Typography color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Box sx={{ width: '100%' }}>\n          <Grid container spacing={2}>\n            <Grid item xs={6} sm={3}>\n              <SearchStyle\n                value={searchValue}\n                onChange={handleOnChange}\n                onKeyPress={handleOnKeyPress}\n                placeholder={searchPlaceHolder}\n                size=\"small\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <Box component={Icon} icon={searchFill} sx={{ color: 'text.disabled' }} />\n                  </InputAdornment>\n                }\n              />\n            </Grid>\n            <Grid item xs={6} sm={3}>\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                <FormControlLabel\n                  control={<Switch checked={showHidden} onChange={handleChangeShowHidden} />}\n                  label={t('products.label-toolbar')}\n                />\n              </Box>\n            </Grid>\n            <Grid item xs={6} sm={3}>\n              <Autocomplete\n                fullWidth\n                disableClearable\n                options={categoryOpts}\n                getOptionLabel={(item) => item?.name || '<trống>'}\n                value={selectedCategory}\n                size=\"small\"\n                renderInput={(params) => <TextField {...params} label=\"Danh mục\" />}\n                onChange={handleChangeCategoryFilter}\n              />\n            </Grid>\n            <Grid item xs={6} sm={3}>\n              <Autocomplete\n                fullWidth\n                disableClearable\n                options={brandOpts}\n                getOptionLabel={(item) => item?.name || '<trống>'}\n                value={selectedBrand}\n                size=\"small\"\n                renderInput={(params) => <TextField {...params} label=\"Thương hiệu\" />}\n                onChange={handleChangeBrandFilter}\n              />\n            </Grid>\n          </Grid>\n        </Box>\n      )}\n\n      {numSelected > 0 ? (\n        <Box sx={{ display: 'flex', justifyContent: 'right' }}>\n          {numSelected === 1 && (\n            <>\n              <Tooltip title=\"Edit\">\n                <IconButton>\n                  <Icon icon={editFill} />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Hide / show\">\n                <IconButton>\n                  <Icon icon={eyeFill} />\n                </IconButton>\n              </Tooltip>\n            </>\n          )}\n          <Tooltip title=\"Delete\">\n            <IconButton>\n              <Icon icon={trash2Fill} />\n            </IconButton>\n          </Tooltip>\n        </Box>\n      ) : (\n        <Tooltip title=\"Bỏ lọc\">\n          <IconButton onClick={handleClearFilter}>\n            <Icon icon={closeCircleFill} />\n          </IconButton>\n        </Tooltip>\n      )}\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { visuallyHidden } from '@material-ui/utils';\nimport { Box, TableRow, TableCell, TableHead, TableSortLabel } from '@material-ui/core';\n\n// ----------------------------------------------------------------------\n\nProductVariantListHead.propTypes = {\n  headLabel: PropTypes.array.isRequired\n};\n\nexport default function ProductVariantListHead({ headLabel }) {\n  return (\n    <TableHead>\n      <TableRow>\n        {headLabel.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'normal'}\n          >\n            {headCell.label}\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { useRef, useState } from 'react';\nimport editFill from '@iconify/icons-eva/edit-fill';\nimport trash2Outline from '@iconify/icons-eva/trash-2-outline';\nimport moreVerticalFill from '@iconify/icons-eva/more-vertical-fill';\n// material\nimport { Menu, MenuItem, IconButton, ListItemIcon, ListItemText } from '@material-ui/core';\nimport useLocales from '../../../hooks/useLocales';\n\n// ----------------------------------------------------------------------\n\nProductVariantMoreMenu.propTypes = {\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func\n};\n\nexport default function ProductVariantMoreMenu({ onEdit, onDelete }) {\n  const { t } = useLocales();\n  const ref = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <IconButton ref={ref} onClick={() => setIsOpen(true)}>\n        <Icon icon={moreVerticalFill} width={20} height={20} />\n      </IconButton>\n      <Menu\n        open={isOpen}\n        anchorEl={ref.current}\n        onClose={() => setIsOpen(false)}\n        PaperProps={{\n          sx: { width: 200, maxWidth: '100%' }\n        }}\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      >\n        <div onMouseLeave={() => setIsOpen(false)}>\n          <MenuItem onClick={onEdit} sx={{ color: 'text.secondary' }}>\n            <ListItemIcon>\n              <Icon icon={editFill} width={24} height={24} />\n            </ListItemIcon>\n            <ListItemText primary={t('common.edit')} primaryTypographyProps={{ variant: 'body2' }} />\n          </MenuItem>\n          <MenuItem onClick={onDelete} sx={{ color: 'text.secondary' }}>\n            <ListItemIcon>\n              <Icon icon={trash2Outline} width={24} height={24} />\n            </ListItemIcon>\n            <ListItemText primary={t('common.delete')} primaryTypographyProps={{ variant: 'body2' }} />\n          </MenuItem>\n        </div>\n      </Menu>\n    </>\n  );\n}\n","import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { Form, FormikProvider, useFormik } from 'formik';\n// material\nimport { experimentalStyled as styled, useTheme } from '@material-ui/core/styles';\nimport {\n  Card,\n  Chip,\n  Grid,\n  Stack,\n  TextField,\n  Typography,\n  Autocomplete,\n  FormHelperText,\n  Link,\n  Button\n} from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { QuillEditor } from '../../../components/editor';\nimport { PATH_DASHBOARD } from '../../../routes/paths';\nimport useLocales from '../../../hooks/useLocales';\nimport { getAllBrands } from '../../../redux/slices/brandSlice';\nimport { getAllCategories } from '../../../redux/slices/categorySlice';\nimport { getProductById, updateProduct } from '../../../redux/slices/productSlice';\n// ----------------------------------------------------------------------\n\nconst TAGS_OPTION = [\n  'Toy Story 3',\n  'Logan',\n  'Full Metal Jacket',\n  'Dangal',\n  'The Sting',\n  '2001: A Space Odyssey',\n  \"Singin' in the Rain\",\n  'Toy Story',\n  'Bicycle Thieves',\n  'The Kid',\n  'Inglourious Basterds',\n  'Snatch',\n  '3 Idiots'\n];\n\nconst LabelStyle = styled(Typography)(({ theme }) => ({\n  ...theme.typography.subtitle2,\n  color: theme.palette.text.secondary,\n  marginBottom: theme.spacing(1)\n}));\n\n// ----------------------------------------------------------------------\n\nPageProductEdit.propTypes = {\n  isEdit: PropTypes.bool,\n  currentProduct: PropTypes.object\n};\n\nexport default function PageProductEdit() {\n  const { t } = useLocales();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const { item: currentProduct } = useSelector((state) => state.product);\n  const { list: brandsList } = useSelector((state) => state.brand);\n  const { list: categoriesList } = useSelector((state) => state.category);\n  const [validationBrand, setValidationBrand] = useState(false);\n  const [validationCategory, setValidationCategory] = useState(false);\n\n  useEffect(() => {\n    dispatch(getAllBrands());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(getAllCategories());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(getProductById(id));\n  }, [id]);\n\n  const validationCustomer = () => {\n    if (!values.brand) {\n      setValidationBrand(true);\n    }\n    if (!values.category) {\n      setValidationCategory(true);\n    }\n    return !!(values.brand && values.category);\n  };\n\n  const handleSave = () => {\n    if (validationCustomer()) {\n      const productData = handleAddDataForProduct();\n      if (currentProduct) {\n        dispatch(updateProduct(currentProduct._id, productData));\n        enqueueSnackbar(`Update product ${currentProduct.name} successfully!`, {\n          variant: 'success'\n        });\n        navigate(PATH_DASHBOARD.app.products.list);\n      }\n    }\n  };\n\n  const handleAddDataForProduct = () => {\n    const product = {\n      name: values.name,\n      desc: values.description,\n      warrantyPeriod: values.warrantyPeriod,\n      origin: values?.origin.label,\n      brandId: values.brand,\n      categoryId: values.category,\n      tags: values.tags,\n      video: values.video\n    };\n    return product;\n  };\n\n  const NewProductSchema = Yup.object().shape({\n    name: Yup.string().required(t('products.name-validation')),\n    description: Yup.string().required(t('products.desc-validation'))\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      name: currentProduct?.name || '',\n      description: currentProduct?.desc || '',\n      warrantyPeriod: currentProduct?.warrantyPeriod || 12,\n      origin: currentProduct?.origin || '',\n      brand: currentProduct?.brand || '',\n      category: currentProduct?.category || '',\n      tags: currentProduct?.tags || [TAGS_OPTION[0]],\n      video: currentProduct?.video || ''\n    },\n    validationSchema: NewProductSchema,\n    onSubmit: async () => {\n      handleSave();\n    }\n  });\n\n  const { errors, values, touched, handleSubmit, setFieldValue, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form noValidate autoComplete=\"off\">\n        <Stack direction=\"row\" spacing={3} sx={{ justifyContent: 'space-between', marginBottom: theme.spacing(2) }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {t('products.general-info')}\n          </Typography>\n        </Stack>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={8}>\n            <Stack spacing={3}>\n              <Card sx={{ p: 3 }}>\n                <Stack spacing={3}>\n                  <TextField\n                    fullWidth\n                    label={t('products.name')}\n                    {...getFieldProps('name')}\n                    error={Boolean(touched.name && errors.name)}\n                    helperText={touched.name && errors.name}\n                  />\n                  <div>\n                    <LabelStyle>{t('products.desc')}</LabelStyle>\n                    <QuillEditor\n                      simple\n                      id=\"product-description\"\n                      value={values.description}\n                      onChange={(val) => setFieldValue('description', val)}\n                      error={Boolean(touched.description && errors.description)}\n                    />\n                    {touched.description && errors.description && (\n                      <FormHelperText error sx={{ px: 2 }}>\n                        {touched.description && errors.description}\n                      </FormHelperText>\n                    )}\n                  </div>\n                  <TextField fullWidth label={t('products.video')} {...getFieldProps('video')} />\n                </Stack>\n              </Card>\n            </Stack>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <Stack spacing={3}>\n              <Card sx={{ p: 3 }}>\n                <Stack spacing={3}>\n                  <TextField\n                    type=\"number\"\n                    fullWidth\n                    label={t('products.warranty-period')}\n                    {...getFieldProps('warrantyPeriod')}\n                    defaultValue={12}\n                  />\n                  {/* <Autocomplete */}\n                  {/*  required */}\n                  {/*  fullWidth */}\n                  {/*  // defaultValue={{ code: 'CN', label: 'China', phone: '86' }} */}\n                  {/*  defaultValue={countries.find((c) => c.label === currentProduct.origin)} */}\n                  {/*  options={countries.map((country) => ({ */}\n                  {/*    label: country.label */}\n                  {/*  }))} */}\n                  {/*  onChange={(event, label) => { */}\n                  {/*    setFieldValue('origin', label); */}\n                  {/*  }} */}\n                  {/*  getOptionLabel={(option) => option.label} */}\n                  {/*  renderInput={(params) => <TextField {...params} label=\"Origin\" margin=\"none\" />} */}\n                  {/* /> */}\n                  {currentProduct?.brand?.name !== undefined && (\n                    <Autocomplete\n                      required\n                      fullWidth\n                      defaultValue={currentProduct.brand}\n                      options={brandsList.filter((x) => !x.isHide && x._id !== currentProduct?.brand)}\n                      getOptionLabel={(option) => option.name}\n                      value={brandsList.find((c) => c.slug === currentProduct?.brand)}\n                      onChange={(e, newValue) => {\n                        setFieldValue('brand', newValue?._id);\n                        setValidationBrand(false);\n                      }}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          label={t('products.brand')}\n                          margin=\"none\"\n                          error={Boolean(validationBrand)}\n                        />\n                      )}\n                      error={Boolean(true)}\n                    />\n                  )}\n                  <Link to={PATH_DASHBOARD.app.brands} color=\"inherit\" component={RouterLink}>\n                    <Typography\n                      variant=\"inherit\"\n                      sx={{\n                        marginTop: theme.spacing(-2),\n                        marginLeft: theme.spacing(1),\n                        fontSize: 'small'\n                      }}\n                    >\n                      <Typography component=\"a\" variant=\"subtitle4\" sx={{ color: 'primary.main' }}>\n                        &nbsp;{t('products.brand-add')}\n                      </Typography>\n                    </Typography>\n                  </Link>\n\n                  {currentProduct?.category?.name !== undefined && (\n                    <Autocomplete\n                      fullWidth\n                      defaultValue={currentProduct.category}\n                      options={categoriesList.filter((x) => !x.isHide && x._id !== currentProduct?.category)}\n                      getOptionLabel={(option) => option.name}\n                      value={categoriesList.find((c) => c.slug === currentProduct?.category)}\n                      onChange={(e, newValue) => {\n                        setFieldValue('category', newValue?._id);\n                        setValidationCategory(false);\n                      }}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          label={t('products.category')}\n                          margin=\"none\"\n                          error={Boolean(validationCategory)}\n                        />\n                      )}\n                    />\n                  )}\n                  <Link to={PATH_DASHBOARD.app.categories} color=\"inherit\" component={RouterLink}>\n                    <Typography\n                      variant=\"inherit\"\n                      sx={{\n                        marginTop: theme.spacing(-2),\n                        marginLeft: theme.spacing(1),\n                        fontSize: 'small'\n                      }}\n                    >\n                      <Typography component=\"a\" variant=\"subtitle4\" sx={{ color: 'primary.main' }}>\n                        &nbsp;{t('products.category-add')}\n                      </Typography>\n                    </Typography>\n                  </Link>\n                  <Autocomplete\n                    multiple\n                    freeSolo\n                    value={values.tags}\n                    onChange={(event, newValue) => {\n                      setFieldValue('tags', newValue);\n                    }}\n                    options={TAGS_OPTION.map((option) => option)}\n                    renderTags={(value, getTagProps) =>\n                      value.map((option, index) => (\n                        <Chip key={option} size=\"small\" label={option} {...getTagProps({ index })} />\n                      ))\n                    }\n                    renderInput={(params) => <TextField label=\"Tags\" {...params} />}\n                  />\n                </Stack>\n              </Card>\n              <Button fullWidth variant=\"contained\" size=\"large\" onClick={handleSubmit}>\n                {t('products.save')}\n              </Button>\n            </Stack>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useState, useCallback, useEffect } from 'react';\n// material\nimport {\n  Button,\n  Dialog,\n  TextField,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  Stack,\n  Card,\n  FormHelperText,\n  InputAdornment\n} from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Form, FormikProvider, useFormik } from 'formik';\nimport { useSnackbar } from 'notistack';\nimport * as Yup from 'yup';\nimport { Icon } from '@iconify/react';\nimport closeFill from '@iconify/icons-eva/close-fill';\nimport { experimentalStyled as styled, useTheme } from '@material-ui/core/styles';\nimport { UploadMultiFile, UploadSingleFile } from '../../../components/upload';\nimport useLocales from '../../../hooks/useLocales';\nimport { MIconButton } from '../../../components/@material-extend';\nimport { allowImageMineTypes } from '../../../constants/imageMineTypes';\nimport { firebaseUploadMultiple, firebaseUploadSingle } from '../../../helper/firebaseHelper';\nimport { createProductVariant, getProductById, updateProductVariant } from '../../../redux/slices/productSlice';\n\nconst LabelStyle = styled(Typography)(({ theme }) => ({\n  ...theme.typography.subtitle2,\n  color: theme.palette.text.secondary,\n  marginBottom: theme.spacing(1)\n}));\n// ----------------------------------------------------------------------\n\nProductVariantForm.propTypes = {\n  currentVariant: PropTypes.object,\n  currentVariantId: PropTypes.any.isRequired,\n  open: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired\n};\n\nexport default function ProductVariantForm({ currentVariant, currentProductId, open, handleClose, handleCreateDone }) {\n  const { t } = useLocales();\n  const theme = useTheme();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const [specifications, setSpecifications] = useState([{ id: 1, name: '', value: '' }]);\n  const [isErrorSpecifications, setIsErrorSpecifications] = useState(false);\n  const [uploadImage, setUploadImage] = useState(null);\n  const [uploadPercent, setUploadPercent] = useState(-1);\n  const [validationThumbnail, setValidationThumbnail] = useState(false);\n  const [urlsPictures, setUrlsPictures] = useState([]);\n  const { item: currentProduct } = useSelector((state) => state.product);\n\n  useEffect(() => {\n    let id = 1;\n    currentVariant?.addSpecifications?.map((item) => {\n      delete item.key;\n      item.id = id;\n      id += 1;\n      return item;\n    });\n    if (currentVariant?.addSpecifications?.length > 0) {\n      setSpecifications(currentVariant?.addSpecifications);\n    }\n    setUploadImage(currentVariant?.thumbnail);\n  }, [currentVariant?.addSpecifications]);\n\n  useEffect(() => {\n    dispatch(getProductById(currentProductId));\n  }, [currentProductId]);\n\n  const handleChangeInput = (id, event) => {\n    setIsErrorSpecifications(false);\n    const newSpecifications = specifications.map((i) => {\n      if (id === i.id) {\n        i[event.target.name] = event.target.value;\n      }\n      return i;\n    });\n    setSpecifications(newSpecifications);\n  };\n\n  const handleAddFields = () => {\n    const indexCurrent = specifications.length - 1;\n    if (specifications[indexCurrent].name === '' || specifications[indexCurrent].value === '') {\n      setIsErrorSpecifications(true);\n      return;\n    }\n    setSpecifications([...specifications, { id: specifications.length + 1, name: '', value: '' }]);\n  };\n\n  const handleRemoveFields = (id) => {\n    const values = [...specifications];\n    values.splice(\n      values.findIndex((value) => value.id === id),\n      1\n    );\n    setSpecifications(values);\n  };\n\n  const renderSpecificationsForm = () => (\n    <div>\n      {specifications.map((inputField) => (\n        <Stack key={inputField.id} direction=\"row\" spacing={3} sx={{ marginBottom: theme.spacing(2) }}>\n          <TextField\n            fullWidth\n            name=\"name\"\n            label={t('products.specifications-name')}\n            size=\"small\"\n            value={inputField.name}\n            error={isErrorSpecifications && inputField.name === ''}\n            onChange={(event) => handleChangeInput(inputField.id, event)}\n          />\n          <TextField\n            fullWidth\n            name=\"value\"\n            label={t('products.specifications-value')}\n            size=\"small\"\n            value={inputField.value}\n            error={isErrorSpecifications && inputField.value === ''}\n            onChange={(event) => handleChangeInput(inputField.id, event)}\n          />\n          <Button disabled={specifications.length === 1} onClick={() => handleRemoveFields(inputField.id)}>\n            Xóa\n          </Button>\n        </Stack>\n      ))}\n      {isErrorSpecifications && (\n        <Typography\n          variant=\"inherit\"\n          sx={{\n            marginLeft: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n            fontSize: 'small',\n            color: theme.palette.error.main\n          }}\n        >\n          Specifications must be filled in completely !!!\n        </Typography>\n      )}\n    </div>\n  );\n\n  const handleDropSingleFile = useCallback((acceptedFiles) => {\n    const uploadFile = acceptedFiles[0];\n    if (uploadFile) {\n      if (allowImageMineTypes.indexOf(uploadFile.type) < 0) {\n        enqueueSnackbar(t('common.invalid-file-type'), {\n          variant: 'error',\n          action: (key) => (\n            <MIconButton size=\"small\" onClick={() => closeSnackbar(key)}>\n              <Icon icon={closeFill} />\n            </MIconButton>\n          )\n        });\n        return;\n      }\n      uploadFile.preview = URL.createObjectURL(uploadFile);\n      setUploadImage(uploadFile);\n    }\n  }, []);\n\n  const validationCustomer = () => {\n    if (!uploadImage) {\n      setValidationThumbnail(true);\n    }\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < specifications.length; i++) {\n      if (\n        (specifications[i]?.name !== '' && specifications[i]?.value === '') ||\n        (specifications[i]?.name === '' && specifications[i]?.value !== '')\n      ) {\n        setIsErrorSpecifications(true);\n      }\n    }\n    return !!uploadImage;\n  };\n\n  const handleSave = () => {\n    if (validationCustomer() && handleCheckSku()) {\n      if (!uploadImage || typeof uploadImage === 'string') {\n        if (typeof uploadImage === 'string') {\n          const productVariantData = handleAddDataForProductVariant(uploadImage);\n          if (currentVariant) {\n            dispatch(updateProductVariant(currentProductId, currentVariant.sku, productVariantData));\n            enqueueSnackbar(t('dashboard.products.save'), {\n              variant: 'success'\n            });\n            handleCreateDone();\n            return true;\n          }\n          dispatch(createProductVariant(currentProductId, productVariantData));\n          enqueueSnackbar(t('dashboard.products.save'), {\n            variant: 'success'\n          });\n          handleCreateDone();\n          return true;\n        }\n      }\n      firebaseUploadSingle(\n        uploadImage,\n        'products',\n        setUploadPercent,\n        (error) => {\n          enqueueSnackbar(error, {\n            variant: 'error',\n            action: (key) => (\n              <MIconButton size=\"small\" onClick={() => closeSnackbar(key)}>\n                <Icon icon={closeFill} />\n              </MIconButton>\n            )\n          });\n        },\n        (url) => {\n          const productVariantData = handleAddDataForProductVariant(url);\n          if (currentVariant) {\n            dispatch(updateProductVariant(currentProductId, currentVariant.sku, productVariantData));\n            enqueueSnackbar(t('dashboard.products.save'), {\n              variant: 'success'\n            });\n            handleCreateDone();\n            return true;\n          }\n          dispatch(createProductVariant(currentProductId, productVariantData));\n          enqueueSnackbar(t('dashboard.products.save'), {\n            variant: 'success'\n          });\n          handleCreateDone();\n          return true;\n        }\n      );\n    }\n  };\n\n  const handleUploadMultiple = async () => {\n    const urlsPicturesNew = [];\n    if (values.pictures) {\n      firebaseUploadMultiple(\n        values.pictures,\n        'products',\n        setUploadPercent,\n        (error) => {\n          enqueueSnackbar(error, {\n            variant: 'error',\n            action: (key) => (\n              <MIconButton size=\"small\" onClick={() => closeSnackbar(key)}>\n                <Icon icon={closeFill} />\n              </MIconButton>\n            )\n          });\n        },\n        (urls) => {\n          urlsPicturesNew.push(urls);\n        }\n      );\n      setUrlsPictures(urlsPicturesNew);\n    }\n  };\n\n  const handleAddDataForProductVariant = (url) => {\n    const product = {\n      variantName: values.variantName,\n      sku: values.sku,\n      quantity: values.quantity,\n      price: values.price,\n      marketPrice: values.marketPrice,\n      thumbnail: url,\n      pictures: urlsPictures[0]\n    };\n    specifications.map((item) => {\n      delete item.id;\n      return item;\n    });\n    if (specifications.length >= 0 && specifications[0].name !== '') {\n      product.addSpecifications = specifications;\n    }\n    return product;\n  };\n\n  const NewProductSchema = Yup.object().shape({\n    variantName: Yup.string().required('Variant Name is required'),\n    sku: Yup.string().required('Sku is required'),\n    price: Yup.number().required('Price is required'),\n    marketPrice: Yup.number().required('Market Price is required')\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      variantName: currentVariant?.variantName || '',\n      sku: currentVariant?.sku || '',\n      quantity: currentVariant?.quantity || 1,\n      price: currentVariant?.price || '',\n      marketPrice: currentVariant?.marketPrice || '',\n      thumbnail: currentVariant?.thumbnail || '',\n      pictures: currentVariant?.pictures || []\n    },\n    validationSchema: NewProductSchema,\n    onSubmit: async () => {\n      try {\n        handleSave();\n        // eslint-disable-next-line no-empty\n      } catch (e) {}\n    }\n  });\n\n  const { errors, values, touched, handleSubmit, setFieldValue, getFieldProps } = formik;\n\n  const handleDrop = useCallback(\n    (acceptedFiles) => {\n      setFieldValue(\n        'pictures',\n        acceptedFiles.map((file) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file)\n          })\n        )\n      );\n    },\n    [setFieldValue]\n  );\n\n  const handleRemoveAll = () => {\n    setFieldValue('pictures', []);\n  };\n\n  const handleRemove = (file) => {\n    const filteredItems = values.pictures.filter((_file) => _file !== file);\n    setFieldValue('pictures', filteredItems);\n  };\n\n  const handleCheckSku = () => {\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < currentProduct?.variants.length; i++) {\n      if (currentProduct?.variants[i].sku === values.sku && !currentVariant) {\n        enqueueSnackbar('Sku phải là duy nhất', {\n          variant: 'error'\n        });\n        return false;\n      }\n    }\n    return true;\n  };\n\n  return (\n    <Dialog open={open} maxWidth=\"md\" fullWidth>\n      <DialogTitle>\n        <Typography variant=\"h4\" marginBottom={2} sx={{ textTransform: 'uppercase' }}>\n          Thêm loại sản phẩm\n        </Typography>\n      </DialogTitle>\n      <DialogContent>\n        <FormikProvider value={formik}>\n          <Form>\n            <Stack spacing={3}>\n              <TextField\n                fullWidth\n                label=\"Loại\"\n                {...getFieldProps('variantName')}\n                error={Boolean(touched.variantName && errors.variantName)}\n                helperText={touched.variantName && errors.variantName}\n              />\n              <Stack direction=\"row\" spacing={3} sx={{ marginBottom: theme.spacing(2) }}>\n                <TextField\n                  fullWidth\n                  disabled={currentVariant}\n                  label={t('products.sku')}\n                  {...getFieldProps('sku')}\n                  error={Boolean(touched.sku && errors.sku)}\n                  helperText={touched.sku && errors.sku}\n                />\n                <TextField\n                  type=\"number\"\n                  fullWidth\n                  label={t('products.quantity')}\n                  {...getFieldProps('quantity')}\n                  defaultValue={1}\n                  error={Boolean(touched.quantity && errors.quantity)}\n                  helperText={touched.quantity && errors.quantity}\n                />\n              </Stack>\n              <Stack direction=\"row\" spacing={3} sx={{ marginBottom: theme.spacing(2) }}>\n                <TextField\n                  fullWidth\n                  placeholder=\"0.00\"\n                  label={t('products.price')}\n                  {...getFieldProps('price')}\n                  InputProps={{\n                    startAdornment: <InputAdornment position=\"start\">đ</InputAdornment>,\n                    type: 'number'\n                  }}\n                  error={Boolean(touched.price && errors.price)}\n                  helperText={touched.price && errors.price}\n                />\n                <TextField\n                  fullWidth\n                  placeholder=\"0.00\"\n                  label={t('products.market-price')}\n                  {...getFieldProps('marketPrice')}\n                  InputProps={{\n                    startAdornment: <InputAdornment position=\"start\">đ</InputAdornment>,\n                    type: 'number'\n                  }}\n                  error={Boolean(touched.marketPrice && errors.marketPrice)}\n                  helperText={touched.marketPrice && errors.marketPrice}\n                />\n              </Stack>\n              <Card sx={{ p: 3 }}>\n                {renderSpecificationsForm()}\n                <Button variant=\"outlined\" onClick={handleAddFields}>\n                  Thêm\n                </Button>\n              </Card>\n\n              <Card sx={{ p: 3 }}>\n                <Stack spacing={3}>\n                  <div onChange={() => setValidationThumbnail(false)}>\n                    <UploadSingleFile\n                      label=\"Ảnh bìa\"\n                      file={uploadImage}\n                      setFile={setUploadImage}\n                      onDrop={handleDropSingleFile}\n                      uploadPercent={uploadPercent}\n                      accepted=\"image/*\"\n                      maxSize={3145728}\n                      error={Boolean(validationThumbnail)}\n                    />\n                    {validationThumbnail && (\n                      <FormHelperText error sx={{ px: 2 }}>\n                        Thumbnail is required\n                      </FormHelperText>\n                    )}\n                  </div>\n                  <div>\n                    <LabelStyle>\n                      Hình ảnh khác\n                      <Typography component=\"span\" variant=\"subtitle4\" sx={{ color: 'primary.main' }}>\n                        &nbsp;Note: must upload more pictures before saving.\n                      </Typography>\n                    </LabelStyle>\n                    <UploadMultiFile\n                      showPreview\n                      maxSize={3145728}\n                      accept=\"image/*\"\n                      files={values.pictures}\n                      onDrop={handleDrop}\n                      onRemove={handleRemove}\n                      onRemoveAll={handleRemoveAll}\n                      uploadAll={handleUploadMultiple}\n                    />\n                  </div>\n                </Stack>\n              </Card>\n            </Stack>\n          </Form>\n        </FormikProvider>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"inherit\">\n          {t('common.cancel')}\n        </Button>\n        <Button onClick={handleSubmit} variant=\"contained\">\n          {currentVariant ? t('common.save') : t('common.create')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { experimentalStyled as styled, useTheme } from '@material-ui/core/styles';\nimport {\n  Card,\n  Grid,\n  Stack,\n  Typography,\n  Button,\n  TableContainer,\n  Table,\n  TableBody,\n  TableRow,\n  TableCell,\n  Box\n} from '@material-ui/core';\nimport { Icon } from '@iconify/react';\nimport plusFill from '@iconify/icons-eva/plus-fill';\nimport { useSnackbar } from 'notistack';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport useLocales from '../../../hooks/useLocales';\nimport * as Helper from '../../../helper/listHelper';\nimport Scrollbar from '../../../components/Scrollbar';\nimport ProductVariantForm from './ProductVariantForm';\nimport { ImageBrokenIcon } from '../../../assets';\nimport { deleteProductVariant, getProductById } from '../../../redux/slices/productSlice';\nimport { ProductVariantListHead, ProductVariantMoreMenu } from '../../../components/dashboard/products';\n// ----------------------------------------------------------------------\nconst ThumbImgStyle = styled('img')(({ theme }) => ({\n  width: 64,\n  height: 64,\n  objectFit: 'cover',\n  margin: theme.spacing(0, 2, 0, 0),\n  borderRadius: theme.shape.borderRadiusSm\n}));\n\n// ----------------------------------------------------------------------\n\nexport default function ProductVariant() {\n  const { t } = useLocales();\n  const theme = useTheme();\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const { item: currentProduct } = useSelector((state) => state.product);\n  let variants = currentProduct?.variants;\n  const [currentVariant, setCurrentVariant] = useState(null);\n  const [openForm, setOpenForm] = useState(false);\n\n  useEffect(() => {\n    dispatch(getProductById(id));\n    variants = currentProduct?.variants;\n  }, [id, variants?.length]);\n\n  const tableHeads = [\n    {\n      id: 'sku',\n      numeric: false,\n      disablePadding: true,\n      label: t('products.sku')\n    },\n    {\n      id: 'variantName',\n      numeric: false,\n      disablePadding: false,\n      label: 'Loại sản phẩm'\n    },\n    {\n      id: 'price',\n      numeric: false,\n      disablePadding: false,\n      label: t('products.price')\n    },\n    {\n      id: 'marketPrice',\n      numeric: true,\n      disablePadding: false,\n      label: t('products.market-price')\n    },\n    {\n      id: 'quantity',\n      numeric: true,\n      disablePadding: false,\n      label: t('products.quantity')\n    },\n    {\n      id: 'sold',\n      numeric: true,\n      disablePadding: false,\n      label: 'Đã bán'\n    },\n    {\n      id: 'action',\n      numeric: false,\n      disablePadding: false\n    }\n  ];\n\n  const handleDeleteVariant = (sku) => {\n    if (variants.length === 1) {\n      enqueueSnackbar('A product must have at least 1 item', { variant: 'error' });\n    } else {\n      dispatch(deleteProductVariant(id, sku));\n      variants.length -= 1;\n      enqueueSnackbar('Delete successfully', { variant: 'success' });\n    }\n  };\n\n  const handleEditVariant = (sku) => {\n    let index;\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < variants.length; i++) {\n      if (variants[i].sku === sku) {\n        index = i;\n        break;\n      }\n    }\n    const variant = variants[index];\n    setCurrentVariant(variant);\n    setOpenForm(true);\n  };\n\n  const handleOpenForm = () => {\n    setCurrentVariant(null);\n    setOpenForm(true);\n  };\n\n  const handleCloseForm = () => {\n    setOpenForm(false);\n  };\n\n  const handleCreateDone = () => {\n    setOpenForm(false);\n    variants.length += 1;\n  };\n\n  return (\n    <Grid container spacing={3} sx={{ marginTop: theme.spacing(3) }}>\n      <Grid item xs={12} md={12}>\n        <Stack spacing={3}>\n          <Card sx={{ p: 3 }}>\n            <Stack spacing={3}>\n              <Stack direction=\"row\" spacing={3} sx={{ justifyContent: 'space-between' }}>\n                <Typography variant=\"h4\" gutterBottom>\n                  Phân loại\n                </Typography>\n                <Button variant=\"contained\" startIcon={<Icon icon={plusFill} />} onClick={handleOpenForm}>\n                  Thêm loại mới\n                </Button>\n              </Stack>\n              <Scrollbar>\n                <TableContainer sx={{ minWidth: 800 }}>\n                  <Table size=\"medium\">\n                    <ProductVariantListHead headLabel={tableHeads} />\n                    {variants && (\n                      <TableBody>\n                        {Helper.stableSort(variants, Helper.getComparator()).map((row, index) => {\n                          const { _id, sku, variantName, price, marketPrice, quantity, sold, thumbnail } = row;\n                          const labelId = `enhanced-table-checkbox-${index}`;\n                          return (\n                            <TableRow hover tabIndex={-1} key={_id}>\n                              <TableCell\n                                component=\"th\"\n                                id={labelId}\n                                scope=\"row\"\n                                padding=\"none\"\n                                style={{ minWidth: 220 }}\n                              >\n                                <Box sx={{ py: 2, display: 'flex', alignItems: 'center' }}>\n                                  {thumbnail ? (\n                                    <ThumbImgStyle alt={thumbnail} src={thumbnail} />\n                                  ) : (\n                                    <ImageBrokenIcon width={64} height={64} marginRight={2} />\n                                  )}\n                                  <Typography variant=\"subtitle2\" noWrap>\n                                    {sku}\n                                  </Typography>\n                                </Box>\n                              </TableCell>\n                              <TableCell align=\"left\">\n                                <Typography variant=\"subtitle2\" noWrap style={{ minWidth: 160 }}>\n                                  {variantName}\n                                </Typography>\n                              </TableCell>\n                              <TableCell align=\"left\" style={{ minWidth: 80 }}>\n                                <Typography variant=\"subtitle4\" noWrap align=\"right\">\n                                  {price}\n                                </Typography>\n                              </TableCell>\n                              <TableCell align=\"right\" style={{ minWidth: 100 }}>\n                                <Typography variant=\"subtitle4\" noWrap>\n                                  {marketPrice}\n                                </Typography>\n                              </TableCell>\n                              <TableCell align=\"right\" style={{ minWidth: 100 }}>\n                                <Typography variant=\"subtitle4\" noWrap>\n                                  {quantity}\n                                </Typography>\n                              </TableCell>\n                              <TableCell align=\"right\" style={{ minWidth: 100 }}>\n                                <Typography variant=\"subtitle4\" noWrap>\n                                  {sold}\n                                </Typography>\n                              </TableCell>\n                              <TableCell align=\"right\" onClick={(event) => event.stopPropagation()}>\n                                <ProductVariantMoreMenu\n                                  onEdit={() => handleEditVariant(sku)}\n                                  onDelete={() => handleDeleteVariant(sku)}\n                                />\n                              </TableCell>\n                            </TableRow>\n                          );\n                        })}\n                      </TableBody>\n                    )}\n                  </Table>\n                </TableContainer>\n              </Scrollbar>\n              {openForm && (\n                <ProductVariantForm\n                  open={openForm}\n                  currentVariant={currentVariant}\n                  currentProductId={id}\n                  handleClose={handleCloseForm}\n                  handleCreateDone={handleCreateDone}\n                />\n              )}\n            </Stack>\n          </Card>\n        </Stack>\n      </Grid>\n    </Grid>\n  );\n}\n","// material\nimport { Container } from '@material-ui/core';\n// redux\n// routes\nimport { PATH_DASHBOARD } from '../../../routes/paths';\n// components\nimport Page from '../../../components/Page';\nimport HeaderBreadcrumbs from '../../../components/HeaderBreadcrumbs';\nimport ProductFormEdit from './ProductFormEdit';\nimport ProductVariant from './ProductVariant';\nimport useLocales from '../../../hooks/useLocales';\n\n// ----------------------------------------------------------------------\n\nexport default function PageProductEdit() {\n  const { t } = useLocales();\n  return (\n    <Page title={t('products.edit-title')}>\n      <Container maxWidth={false}>\n        <HeaderBreadcrumbs\n          heading={t('products.edit')}\n          links={[\n            { name: 'Dashboard', href: PATH_DASHBOARD.root },\n            {\n              name: t('products.heading'),\n              href: PATH_DASHBOARD.app.products.list\n            },\n            { name: t('products.edit') }\n          ]}\n        />\n        <ProductFormEdit />\n        <ProductVariant />\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}